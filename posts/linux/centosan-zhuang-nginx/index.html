<!DOCTYPE html>
<html lang="chinese (simplified)">

<head>
  <!-- Required meta tags always come first -->
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>centos安装nginx | imba吧
</title>
  <link rel="canonical" href="https://www.imba.pub/posts/linux/centosan-zhuang-nginx/index.html">



  <link rel="stylesheet" href="https://www.imba.pub/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://www.imba.pub/theme/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://www.imba.pub/theme/css/pygments/default.min.css">
  <link rel="stylesheet" href="https://www.imba.pub/theme/css/style.css">


<meta name="description" content="cengtos下nginx安装">
</head>

<body>
  <header class="header">
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <h1 class="title"><a href="https://www.imba.pub">imba吧</a></h1>
          <ul class="list-inline">
            <li class="list-inline-item"><a href="http://www.openui.cn" target="_blank">openui</a></li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>centos安装nginx
</h1>
      <hr>
<article class="article">
  <header>
    <ul class="list-inline">
      <li class="list-inline-item text-muted" title="2019-11-09T00:00:00+00:00">
        <i class="fa fa-clock-o"></i>
        Sat 09 November 2019
      </li>
      <li class="list-inline-item">
        <i class="fa fa-folder-open-o"></i>
        <a href="https://www.imba.pub/category/linux.html">linux</a>
      </li>
      <li class="list-inline-item">
        <i class="fa fa-user-o"></i>
        <a href="https://www.imba.pub/author/openui.html">openui</a>      </li>
      <li class="list-inline-item">
        <i class="fa fa-files-o"></i>
        <a href="https://www.imba.pub/tag/linux.html">#linux</a>,         <a href="https://www.imba.pub/tag/centos.html">#centos</a>,         <a href="https://www.imba.pub/tag/nginx.html">#nginx</a>      </li>
    </ul>
  </header>
  <div class="content">
    <ul>
<li>查看是否已安装过</li>
</ul>
<blockquote>
<p>find -name nginx </p>
<p>yum remove nginx //如果已安装需要删除</p>
</blockquote>
<ul>
<li>下载</li>
</ul>
<blockquote>
<p>wget http://nginx.org/download/nginx-1.7.4.tar.gz  </p>
<p>yum -y install wget  //安装wget</p>
</blockquote>
<ul>
<li>解压</li>
</ul>
<blockquote>
<p>tar -zxvf nginx-1.7.4.tar.gz   </p>
</blockquote>
<ul>
<li>编译安装</li>
</ul>
<blockquote>
<p>yum install gcc-c++ </p>
<p>yum install pcre pcre-devel </p>
<p>yum install zlib zlib-devel  </p>
<p>yum install openssl openssl--devel  </p>
<p>// 报./configure: error: C compiler cc is not found错误 执行下面命令</p>
<p>yum -y install gcc gcc-c++ autoconf automake make  </p>
<p>./configure --prefix=/opt/nginx    // 编译的时候用来指定程序存放路径 </p>
<p>make</p>
<p>make install</p>
</blockquote>
<ul>
<li>运行</li>
</ul>
<blockquote>
<p>sudo sbin/nginx</p>
</blockquote>
<ul>
<li>设置开机启动</li>
</ul>
<blockquote>
<p>cd /lib/systemd/system/</p>
<p>vi nginx.service</p>
<p>//内容如下</p>
<p>[Unit]
Description=nginx service
After=network.target </p>
<p>[Service] 
Type=forking 
ExecStart=/opt/nginx/sbin/nginx
ExecReload=/opt/nginx/sbin/nginx -s reload
ExecStop=/opt/nginx/sbin/nginx -s quit
PrivateTmp=true </p>
<p>[Install] 
WantedBy=multi-user.target</p>
<p>//说明</p>
<p>[Unit] 服务的说明
Description:描述服务
After:描述服务类别
[Service]服务运行参数的设置
Type=forking是后台运行的形式
ExecStart为服务的具体运行命令
ExecReload为重启命令
ExecStop为停止命令
PrivateTmp=True表示给服务分配独立的临时空间
注意：[Service]的启动、重启、停止命令全部要求使用绝对路径
[Install]运行级别下服务安装的相关设置，可设置为多用户，即系统运行级别为3 </p>
<p>// 加入开机启动</p>
<p>systemctl enable nginx</p>
<p>// 取消开机启动</p>
<p>systemctl disable nginx
// 常用操作
systemctl start nginx.service　         启动nginx服务</p>
<p>systemctl stop nginx.service　          停止服务</p>
<p>systemctl restart nginx.service　       重新启动服务</p>
<p>systemctl list-units --type=service     查看所有已启动的服务</p>
<p>systemctl status nginx.service          查看服务当前状态</p>
<p>systemctl enable nginx.service          设置开机自启动</p>
<p>systemctl disable nginx.service         停止开机自启动</p>
</blockquote>
  </div>

  <div class='zanshang'>
      <button id='showpay'>赏</button>
       <div id="payContent" class="payContent">

           <div><img src='/theme/images/weixinpay.png'><br>微信扫一扫</div>
           <div><img src='/theme/images/alipay.png'><br>支付宝扫一扫</div>

         </div>
   </div>
</article>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="row">
       <ul class="col-sm-6 list-inline">
          <li class="list-inline-item"><a href="https://www.imba.pub/authors.html">Authors</a></li>
          <li class="list-inline-item"><a href="https://www.imba.pub/archives.html">Archives</a></li>
          <li class="list-inline-item"><a href="https://www.imba.pub/categories.html">Categories</a></li>
          <li class="list-inline-item"><a href="https://www.imba.pub/tags.html">Tags</a></li>
        </ul>
        <p class="col-sm-6 text-sm-right text-muted">
          Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
        </p>
      </div>
    </div>
  </footer>
</body>

</html>