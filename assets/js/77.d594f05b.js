(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{423:function(s,a,t){"use strict";t.r(a);var e=t(43),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"mysql常见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql常见问题"}},[s._v("#")]),s._v(" MySQL常见问题")]),s._v(" "),t("h2",{attrs:{id:"group-concat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#group-concat"}},[s._v("#")]),s._v(" GROUP_CONCAT")]),s._v(" "),t("ul",[t("li",[s._v("使用"),t("code",[s._v("GROUP_CONCAT")]),s._v("出现")])]),s._v(" "),t("blockquote",[t("p",[s._v("Row 147 was cut by GROUP_CONCAT()")])]),s._v(" "),t("ul",[t("li",[s._v("由于MySQL的"),t("code",[s._v("GROUP_CONCAT")]),s._v("有默认大小值，先查询一下")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" VARIABLES "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'group_concat_max_len'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#或者")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.group_concat_max_len")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("默认值为1024")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("Variable_name")]),s._v(" "),t("th",[s._v("Value")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("group_concat_max_len")]),s._v(" "),t("td",[s._v("1024")])])])]),s._v(" "),t("h3",{attrs:{id:"修改默认值大小"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改默认值大小"}},[s._v("#")]),s._v(" 修改默认值大小")]),s._v(" "),t("ul",[t("li",[s._v("在MySQL配置文件中添加配置")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-1为最大值或根据实际需求设置长度")]),s._v("\ngroup_concat_max_len "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" -1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("如果是生产环境下，不能擅自重启MySQL服务，则可以通过语句设置"),t("code",[s._v("group_concat")]),s._v("的作用范围")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GLOBAL")]),s._v(" group_concat_max_len"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SESSION")]),s._v(" group_concat_max_len"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"自定义函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义函数"}},[s._v("#")]),s._v(" 自定义函数")]),s._v(" "),t("h3",{attrs:{id:"执行自定义函数报错"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#执行自定义函数报错"}},[s._v("#")]),s._v(" 执行自定义函数报错")]),s._v(" "),t("blockquote",[t("p",[t("code",[s._v("This function has none of DETERMINISTIC, NO SQL, or READS SQL DATA in its declaration and binary logging is enabled (you *might* want to use the less safe log_bin_trust_function_creators variable)")])])]),s._v(" "),t("h4",{attrs:{id:"查看是否开启log-bin-trust-function-creators"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看是否开启log-bin-trust-function-creators"}},[s._v("#")]),s._v(" 查看是否开启"),t("code",[s._v("log_bin_trust_function_creators")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" VARIABLES "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'log_bin_trust_function_creators'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#或者")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.log_bin_trust_function_creators")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"默认关闭"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#默认关闭"}},[s._v("#")]),s._v(" 默认关闭")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("Variable_name")]),s._v(" "),t("th",[s._v("Value")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("log_bin_trust_function_creators")]),s._v(" "),t("td",[s._v("OFF")])])])]),s._v(" "),t("h4",{attrs:{id:"开启"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启"}},[s._v("#")]),s._v(" 开启")]),s._v(" "),t("ul",[t("li",[s._v("在MySQL配置文件中"),t("code",[s._v("[mysqld]")]),s._v("节点下加上")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("log_bin_trust_function_creators")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("如果是生产环境下，不能擅自重启MySQL服务，则可以通过语句开启，重启后无效")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GLOBAL")]),s._v(" log_bin_trust_function_creators "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#或者")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GLOBAL")]),s._v(" log_bin_trust_function_creators"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("TRUE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"表名未忽略大小写"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#表名未忽略大小写"}},[s._v("#")]),s._v(" 表名未忽略大小写")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/my.cnf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"在-mysqld-模块中添加"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在-mysqld-模块中添加"}},[s._v("#")]),s._v(" 在"),t("code",[s._v("[mysqld]")]),s._v("模块中添加")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("lower_case_table_names "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"保存并重启mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#保存并重启mysql"}},[s._v("#")]),s._v(" 保存并重启mysql")])])}),[],!1,null,null,null);a.default=r.exports}}]);