(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{403:function(s,t,e){"use strict";e.r(t);var a=e(43),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"linux操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux操作"}},[s._v("#")]),s._v(" Linux操作")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#flag"}},[s._v("flag")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F"}},[s._v("重装系统")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#meowlove"}},[s._v("MeowLove")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#moeclub"}},[s._v("moeclub")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E8%BD%AF%E4%BB%B6%E7%BB%84%E5%90%88"}},[s._v("软件组合")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C"}},[s._v("后台运行")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#nohup"}},[e("code",[s._v("nohup")])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#tmux"}},[e("code",[s._v("tmux")])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#supervisor"}},[e("code",[s._v("supervisor")])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#setsid"}},[e("code",[s._v("setsid")])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#screen"}},[s._v("screen")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#linux%E4%B9%8B%E9%97%B4%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6"}},[s._v("Linux之间传输文件")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#scp"}},[s._v("scp")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#rsync"}},[s._v("rsync")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%80%A7%E8%83%BD%E5%8F%8A%E7%BD%91%E9%80%9F%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7"}},[s._v("性能及网速测试工具")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E4%B8%80%E9%94%AE%E6%B5%8B%E8%AF%95%E8%84%9A%E6%9C%ACbenchsh"}},[s._v("一键测试脚本bench.sh")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#91yun%E7%9A%84%E7%BD%91%E7%BB%9C%E6%B5%8B%E8%AF%95%E8%84%9A%E6%9C%AC"}},[s._v("91yun的网络测试脚本")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E4%B8%BB%E6%9C%BA%E8%BF%90%E7%AE%97%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95"}},[s._v("主机运算性能测试")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%B5%8B%E8%AF%95%E8%84%9A%E6%9C%AC"}},[s._v("服务器一键测试脚本")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E4%B8%AD%E6%96%87%E7%89%88"}},[s._v("中文版")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E8%8B%B1%E6%96%87%E7%89%88"}},[s._v("英文版")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E8%B7%AF%E7%94%B1%E8%B7%9F%E8%B8%AA"}},[s._v("路由跟踪")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#ping"}},[s._v("ping")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#traceroute"}},[s._v("traceroute")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#tcptraceroute"}},[s._v("tcptraceroute")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#mtr"}},[s._v("mtr")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E8%A7%A3%E5%86%B3%E7%BD%91%E5%8D%A1%E9%97%AE%E9%A2%98"}},[s._v("解决网卡问题")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#mtu"}},[s._v("MTU")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8Bmtu%E5%80%BC"}},[s._v("查看MTU值")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E4%B8%B4%E6%97%B6%E6%9B%B4%E6%94%B9mtu%E5%80%BC"}},[s._v("临时更改MTU值")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%B0%B8%E4%B9%85%E6%9B%B4%E6%94%B9mtu%E5%80%BC"}},[s._v("永久更改MTU值")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E9%87%8D%E5%90%AF%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3"}},[s._v("重启网络接口")])])])])]),s._v(" "),e("h2",{attrs:{id:"flag"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#flag"}},[s._v("#")]),s._v(" flag")]),s._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://learn-linux.readthedocs.io/zh_CN/latest/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux手册"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://network.fasionchan.com/zh_CN/latest/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux网络编程"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://osx-guide.readthedocs.io/zh_CN/latest/",target:"_blank",rel:"noopener noreferrer"}},[s._v("OSX操作指南"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://www.moerats.com/archives/625/",target:"_blank",rel:"noopener noreferrer"}},[s._v("阿里云CentOS 7系统一键净化脚本"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://learn-linux.readthedocs.io/zh_CN/latest/maintenance/monitor/tools/80-linux-monitoring-tools.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux工程师必备的88个监控工具"),e("OutboundLink")],1)])])]),s._v(" "),e("ul",[e("li",[e("p",[e("code",[s._v("nethogs")]),s._v(": 按进程查看流量占用")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("ethtool")]),s._v(": 诊断工具")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("tcpdump")]),s._v(": 抓包工具")])]),s._v(" "),e("li",[e("p",[s._v("监控总体带宽使用："),e("code",[s._v("nload")]),s._v("、"),e("code",[s._v("bmon")]),s._v("、"),e("code",[s._v("slurm")]),s._v("、"),e("code",[s._v("bwm-ng")]),s._v("、"),e("code",[s._v("cbm")]),s._v("、"),e("code",[s._v("speedometer")]),s._v("、"),e("code",[s._v("netload")])])]),s._v(" "),e("li",[e("p",[s._v("监控总体带宽使用（批量式输出）："),e("code",[s._v("vnstat")]),s._v("、"),e("code",[s._v("ifstat")]),s._v("、"),e("code",[s._v("dstat")]),s._v("、"),e("code",[s._v("collectl")])])]),s._v(" "),e("li",[e("p",[s._v("每个套接字连接的带宽使用："),e("code",[s._v("iftop")]),s._v("、"),e("code",[s._v("iptraf")]),s._v("、"),e("code",[s._v("tcptrack")]),s._v("、"),e("code",[s._v("pktstat")]),s._v("、"),e("code",[s._v("netwatch")]),s._v("、"),e("code",[s._v("trafshow")]),s._v("、"),e("code",[s._v("jnettop")])])]),s._v(" "),e("li",[e("p",[e("code",[s._v("ntopng")])])])]),s._v(" "),e("h2",{attrs:{id:"重装系统"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重装系统"}},[s._v("#")]),s._v(" 重装系统")]),s._v(" "),e("h3",{attrs:{id:"meowlove"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#meowlove"}},[s._v("#")]),s._v(" MeowLove")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/MeowLove/Network-Reinstall-System-Modify",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/MeowLove/Network-Reinstall-System-Modify"),e("OutboundLink")],1)])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum update\nyum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y xz openssl "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("gawk")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载脚本")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" --no-check-certificate "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://raw.githubusercontent.com/MeowLove/Network-Reinstall-System-Modify/master/Network-Reinstall-System-Modify.sh'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给脚本授权")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" a+x Network-Reinstall-System-Modify.sh\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一键网络重装纯净CentOS 7")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" Network-Reinstall-System-Modify.sh -CentOS_7\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一键网络重装纯净Windows Server 2019")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" Network-Reinstall-System-Modify.sh -Windows_Server_2019\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("ul",[e("li",[s._v("下载SHELL脚本（通过root用户运行）")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" --no-check-certificate -qO ~/Network-Reinstall-System-Modify.sh "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://www.cxthhhhh.com/tech-tools/Network-Reinstall-System-Modify/Network-Reinstall-System-Modify.sh'")]),s._v(" \n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" a+x ~/Network-Reinstall-System-Modify.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[s._v("安装Linux系统")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ①. 一键网络重装纯净CentOS 7（推荐）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -CentOS_7\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ②. 一键网络重装纯净CentOS 6")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -CentOS_6\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ③. 一键网络重装纯净Debian 10（推荐）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -Debian_10\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ④. 一键网络重装纯净Debian 9")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -Debian_9\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ⑤. 一键网络重装纯净Debian 8")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -Debian_8\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ⑥. 一键网络重装纯净Ubuntu 18.04（推荐）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -Ubuntu_18.04\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ⑦. 一键网络重装纯净Ubuntu 16.04")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -Ubuntu_16.04\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ⑧. 一键网络重装纯净Ubuntu 14.04")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -Ubuntu_14.04\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("ul",[e("li",[s._v("安装Windows系统")])]),s._v(" "),e("blockquote",[e("p",[s._v("警告：你需要购买来自Microsoft或其合作伙伴正版系统授权并激活系统使用。继续安装即代表您知悉并已经购买正版授权。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ①. 一键网络重装纯净Windows Server 2019（推荐）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -Windows_Server_2019\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ②. 一键网络重装纯净Windows Server 2016")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -Windows_Server_2016\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ③. 一键网络重装纯净Windows Server 2012 R2")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -Windows_Server_2012R2\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ④. 一键网络重装纯净Windows Server 2008 R2")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -Windows_Server_2008R2\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ⑤. 一键网络重装纯净Windows 7 Vienna")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -Windows_7_Vienna\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ⑥. 一键网络重装纯净Windows Server 2003")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -Windows_Server_2003\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("ul",[e("li",[s._v("安装裸机系统部署平台")])]),s._v(" "),e("blockquote",[e("p",[s._v("仅适用于高端用户，手动安装任意系统。可通过网络ISO或iPXE安装任意系统。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -CXT_Bare-metal_System_Deployment_Platform\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("安装DD系统")])]),s._v(" "),e("blockquote",[e("p",[s._v("如果您不了解这意味着什么，请不要进行操作。%ULR%应该替换为您自己的映像地址。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ~/Network-Reinstall-System-Modify.sh -DD "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%URL%"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" --no-check-certificate -qO- "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://zhujiwiki.com/wp-content/uploads/2018/04/InstallNET.sh'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" -dd "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://hao.zhujiwiki.com/dd/CentOS_7.X_NetInstallation.vhd.gz'")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"moeclub"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#moeclub"}},[s._v("#")]),s._v(" moeclub")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://moeclub.org/2018/04/03/603/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://moeclub.org/2018/04/03/603/"),e("OutboundLink")],1)])]),s._v(" "),e("blockquote",[e("p",[s._v("适用于由GRUB引导的CentOS,Ubuntu,Debian系统")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum update\nyum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y xz openssl "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("gawk")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载脚本")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" --no-check-certificate "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://moeclub.org/attachment/LinuxShell/InstallNET.sh'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给脚本授权")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" a+x InstallNET.sh\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一键网络重装纯净CentOS 7")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" InstallNET.sh -c "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.6")]),s._v(".1810 -v "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" -a --mirror "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://mirror.centos.org/centos'")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h2",{attrs:{id:"软件组合"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#软件组合"}},[s._v("#")]),s._v(" 软件组合")]),s._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://lamp.sh",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://lamp.sh"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://oneinstack.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://oneinstack.com"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://lnmp.org",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://lnmp.org"),e("OutboundLink")],1)])])]),s._v(" "),e("h2",{attrs:{id:"后台运行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#后台运行"}},[s._v("#")]),s._v(" 后台运行")]),s._v(" "),e("h3",{attrs:{id:"nohup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nohup"}},[s._v("#")]),s._v(" "),e("code",[s._v("nohup")])]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("只输出错误日志")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" python3 ./index.py "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/dev/null "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v("index.log "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("strong",[s._v("不输出日志")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" python3 ./index.py "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/dev/null "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("strong",[s._v("Linux的3种重定向")])])]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("0")]),s._v("表示标准输入")]),s._v(" "),e("p",[e("code",[s._v("1")]),s._v("标准输出,在一般使用时，默认的是标准输出")]),s._v(" "),e("p",[e("code",[s._v("2")]),s._v("标准错误信息输出")]),s._v(" "),e("blockquote",[e("p",[s._v("可以用来指定需要重定向的标准输入或输出。")]),s._v(" "),e("p",[s._v("将某个程序的错误信息输出到log文件中：./index 2>index.log。\n这样标准输出还是在屏幕上，但是错误信息会输出到log文件中。")]),s._v(" "),e("p",[s._v("另外，也可以实现0，1，2之间的重定向。"),e("code",[s._v("2>&1")]),s._v("：将错误信息重定向到标准输出。")])])]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("关于"),e("code",[s._v("/dev/null")]),s._v("文件")])])]),s._v(" "),e("blockquote",[e("p",[s._v("Linux下还有一个特殊的文件/dev/null，它就像一个无底洞，所有重定向到它的信息都会消失得无影无踪。\n这一点非常有用，当我们不需要回显程序的所有信息时，就可以将输出重定向到/dev/null。")])]),s._v(" "),e("h3",{attrs:{id:"tmux"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tmux"}},[s._v("#")]),s._v(" "),e("code",[s._v("tmux")])]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("tmux")]),s._v("是一款"),e("code",[s._v("Linux")]),s._v("下的终端复用工具，可以开启不同的终端窗口来将应用程序作为后台守护进程执行，\n即使远程连接的SSH断开也不会影响程序的执行。")])]),s._v(" "),e("ol",[e("li",[e("code",[s._v("yum install tmux")])]),s._v(" "),e("li",[s._v("新建"),e("code",[s._v("tmux new -s 程序名称")]),s._v("；")]),s._v(" "),e("li",[s._v("在新终端窗口中执行"),e("code",[s._v("./程序名称")]),s._v("即可；")]),s._v(" "),e("li",[s._v("使用"),e("code",[s._v("Ctrl")]),s._v(" + "),e("code",[s._v("B & D")]),s._v("快捷键可以退出当前终端窗口；")]),s._v(" "),e("li",[s._v("使用"),e("code",[s._v("tmux attach -t 程序名称")]),s._v("可进入到之前的终端窗口；")])]),s._v(" "),e("h3",{attrs:{id:"supervisor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#supervisor"}},[s._v("#")]),s._v(" "),e("code",[s._v("supervisor")])]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("supervisor")]),s._v("是用"),e("code",[s._v("Python")]),s._v("开发的一套通用的进程管理程序，能将一个普通的命令行进程变为后台"),e("code",[s._v("daemon")]),s._v("，\n并监控进程状态，异常退出时能自动重启。")])]),s._v(" "),e("p",[e("a",{attrs:{href:"http://supervisord.org",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://supervisord.org"),e("OutboundLink")],1)]),s._v(" "),e("ul",[e("li",[s._v("常见配置如下")])]),s._v(" "),e("div",{staticClass:"language-vim line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-vim"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("program"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("程序名称"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nuser"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\ncommand"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("main\nstdout_logfile"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("gf"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("stdout"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("log\nstderr_logfile"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("gf"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("stderr"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("log\nautostart"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\nautorestart"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("ul",[e("li",[s._v("使用步骤如下")])]),s._v(" "),e("ol",[e("li",[s._v("使用"),e("code",[s._v("sudo service supervisor start")]),s._v("启动"),e("code",[s._v("supervisor")]),s._v("服务；")]),s._v(" "),e("li",[s._v("创建应用配置文件"),e("code",[s._v("/etc/supervisor/conf.d/程序名称.conf")]),s._v(", 内容如上;")]),s._v(" "),e("li",[s._v("使用"),e("code",[s._v("sudo supervisorctl")]),s._v("进入"),e("code",[s._v("supervisor")]),s._v("管理终端；")]),s._v(" "),e("li",[s._v("使用"),e("code",[s._v("reload")]),s._v("重新读取配置文件并重启当前"),e("code",[s._v("supoervisor")]),s._v("管理的所有进程；")]),s._v(" "),e("li",[s._v("也可以使用"),e("code",[s._v("update")]),s._v("重新加载配置(默认不重启)，随后使用"),e("code",[s._v("start 程序名称")]),s._v("启动指定的应用程序；")]),s._v(" "),e("li",[s._v("随后可以使用"),e("code",[s._v("status")]),s._v("指令查看当前"),e("code",[s._v("supervisor")]),s._v("管理的进程状态；")])]),s._v(" "),e("h3",{attrs:{id:"setsid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setsid"}},[s._v("#")]),s._v(" "),e("code",[s._v("setsid")])]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("setsid")]),s._v("就是"),e("code",[s._v("set session id")]),s._v("的意思。表示该命令运行的进程是一个新的"),e("code",[s._v("session")]),s._v("。因此其父进程不属于当前终端。\n实际上"),e("code",[s._v("setsid")]),s._v("运行的进程，其父进程id(ppid)为1(init进程的id)。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("setsid python3 ./index.py "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/dev/null "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("p",[e("strong",[s._v("语法")])])]),s._v(" "),e("li",[e("p",[e("code",[s._v("setsid(选项)(参数)")])])])]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("-c")]),s._v(", "),e("code",[s._v("--ctty")]),s._v(" 将控制终端设置为当前控制终端")]),s._v(" "),e("p",[e("code",[s._v("-f")]),s._v(", "),e("code",[s._v("--fork")]),s._v(" 总是 fork")]),s._v(" "),e("p",[e("code",[s._v("-w")]),s._v(", "),e("code",[s._v("--wait")]),s._v(" 等待程序退出，并使用相同的返回")])]),s._v(" "),e("h3",{attrs:{id:"screen"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#screen"}},[s._v("#")]),s._v(" screen")]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("Screen")]),s._v("是一款由 GNU 计划开发的用于命令行终端切换的自由软件。\n用户可以通过该软件同时连接多个本地或远程的命令行会话，并在其间自由切换。\nGNU Screen 可以看作是窗口管理器的命令行界面版本。它提供了统一的管理多个会话的界面和相应的功能。")])]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("安装")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("screen")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("strong",[s._v("创建一个screen会话")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("screen")]),s._v(" -S 会话名称\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("p",[e("strong",[s._v("隐藏并保留当前会话")])])]),s._v(" "),e("li",[e("p",[s._v("按"),e("code",[s._v("Ctrl+A")]),s._v("，再按"),e("code",[s._v("D")]),s._v("键")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("列出所有的会话列表")])])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("screen")]),s._v(" -ls\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("strong",[s._v("恢复会话窗口")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("screen")]),s._v(" -r 会话名称\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("strong",[s._v("关闭会话窗口")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("p",[e("strong",[s._v("选项")])])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-A")]),s._v(" 　将所有的视窗都调整为目前终端机的大小。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-d")]),s._v(" <作业名称> 　将指定的screen作业离线。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-h")]),s._v(" <行数> 　指定视窗的缓冲区行数。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-m")]),s._v(" 　即使目前已在作业中的screen作业，仍强制建立新的screen作业。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-r")]),s._v(" <作业名称> 　恢复离线的screen作业。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-R")]),s._v(" 　先试图恢复离线的作业。若找不到离线的作业，即建立新的screen作业。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-s")]),s._v(" 　指定建立新视窗时，所要执行的shell。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-S")]),s._v(" <作业名称> 　指定screen作业的名称。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-v")]),s._v(" 　显示版本信息。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-x")]),s._v(" 　恢复之前离线的screen作业。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-ls")]),s._v("或"),e("code",[s._v("--list")]),s._v(" 　显示目前所有的screen作业。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-wipe")]),s._v(" 　检查目前所有的screen作业，并删除已经无法使用的screen作业。")])])]),s._v(" "),e("h2",{attrs:{id:"linux之间传输文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux之间传输文件"}},[s._v("#")]),s._v(" Linux之间传输文件")]),s._v(" "),e("blockquote",[e("p",[s._v("首先进入需要搭建web服务器的目录，然后在输入下面的命令")]),s._v(" "),e("p",[s._v("注意：不填端口号则默认使用8000端口。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# linux")]),s._v("\npython -m SimpleHTTPServer port\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# windows")]),s._v("\npython -m http.server port\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务开启后，地址协议类型加IP/目录下的文件： ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" host:port/file 就可以下载了\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h3",{attrs:{id:"scp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scp"}},[s._v("#")]),s._v(" scp")]),s._v(" "),e("blockquote",[e("p",[s._v("【优点】简单方便，安全可靠；支持限速参数，不占资源，不会提高多少系统负荷")]),s._v(" "),e("p",[s._v("【缺点】不支持排除目录")]),s._v(" "),e("p",[s._v("【用法】scp就是secure copy，是用来进行远程文件拷贝的。数据传输使用 ssh，并且和ssh 使用相同的认证方式，提供相同的安全保证 。")])]),s._v(" "),e("ul",[e("li",[s._v("命令参数")])]),s._v(" "),e("blockquote",[e("p",[s._v("-1  强制scp命令使用协议ssh1")]),s._v(" "),e("p",[s._v("-2  强制scp命令使用协议ssh2")]),s._v(" "),e("p",[s._v("-4  强制scp命令只使用IPv4寻址")]),s._v(" "),e("p",[s._v("-6  强制scp命令只使用IPv6寻址")]),s._v(" "),e("p",[s._v("-B  使用批处理模式（传输过程中不询问传输口令或短语）")]),s._v(" "),e("p",[s._v("-C  允许压缩。（将-C标志传递给ssh，从而打开压缩功能）")]),s._v(" "),e("p",[s._v("-p 保留原文件的修改时间，访问时间和访问权限。")]),s._v(" "),e("p",[s._v("-q  不显示传输进度条。")]),s._v(" "),e("p",[s._v("-r  递归复制整个目录。")]),s._v(" "),e("p",[s._v("-v 详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。")]),s._v(" "),e("p",[s._v("-c cipher  以cipher将数据传输进行加密，这个选项将直接传递给ssh。")]),s._v(" "),e("p",[s._v("-F ssh_config  指定一个替代的ssh配置文件，此参数直接传递给ssh。")]),s._v(" "),e("p",[s._v("-i identity_file  从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。")]),s._v(" "),e("p",[s._v("-l limit  限定用户所能使用的带宽，以Kbit/s为单位。")]),s._v(" "),e("p",[s._v("-o ssh_option  如果习惯于使用ssh_config(5)中的参数传递方式，")]),s._v(" "),e("p",[s._v("-P port  注意是大写的P, port是指定数据传输用到的端口号")]),s._v(" "),e("p",[s._v("-S program  指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。")])]),s._v(" "),e("blockquote",[e("p",[s._v("scp [参数] <源地址（用户名@IP地址或主机名）>:<文件路径> <目的地址（用户名 @IP 地址或主机名）>:<文件路径>")])]),s._v(" "),e("ul",[e("li",[s._v("示例")])]),s._v(" "),e("blockquote",[e("p",[s._v("把本地的source.txt文件拷贝到192.168.0.10机器上的/home/work目录下")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -P "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" -p /home/work/source.txt work@192.168.0.10:/home/work/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("把192.168.0.10机器上的source.txt文件拷贝到本地的/home/work目录下")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -P "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" -p work@192.168.0.10:/home/work/source.txt /home/work/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("把192.168.0.10机器上的source.txt文件拷贝到192.168.0.11机器的/home/work目录下")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -P "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" -p work@192.168.0.10:/home/work/source.txt work@192.168.0.11:/home/work/\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拷贝文件夹，加-r参数")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -P "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" -p -r /home/work/sourcedir work@192.168.0.10:/home/work/\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用主机名")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -P "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" -p -r /home/work/sourcedir work@www.myhost.com:/home/work/\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示详情，加-v参数")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -P "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" -p -r -v /home/work/sourcedir work@www.myhost.com:/home/work/  \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("blockquote",[e("p",[s._v("将远程主机复制到本地")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -P "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" -p root@192.168.214.187:/tmp/demo/f3.log /tmp/files/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("strong",[s._v("遇到的问题")])])]),s._v(" "),e("blockquote",[e("p",[s._v("输入密码时提示："),e("code",[s._v("Permission denied, please try again.")])])]),s._v(" "),e("ul",[e("li",[e("p",[s._v("先修改远程文件夹或文件的权限"),e("code",[s._v("chmod -R 777 路径")])])]),s._v(" "),e("li",[e("p",[s._v("修改"),e("code",[s._v("PermitRootLogin")]),s._v("允许Root登录")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑sshd_config文件")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/ssh/sshd_config\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 搜索PermitRootLogin并修改为yes")]),s._v("\n/PermitRootLogin\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启ssh")]),s._v("\n/etc/init.d/sshd restart\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"rsync"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rsync"}},[s._v("#")]),s._v(" rsync")]),s._v(" "),e("blockquote",[e("p",[s._v("【优点】功能强大，操作类似scp，支持排除目录，支持限速参数；还支持本地复制。")]),s._v(" "),e("p",[s._v("【缺点】会耗系统资源，占用I/O")]),s._v(" "),e("p",[s._v("【用法】rsync是类unix系统下的数据镜像备份工具，从软件的命名上就可以看出来了——remote sync。\n它的操作方式和scp和相似，但是比scp强大很多。使用双冒号分割主机名和文件路径时，是使用rsync服务器")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把本地的source.txt文件拷贝到192.168.0.10机器上的/home/work目录下")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" /home/work/source.txt work@192.168.0.10:/home/work/\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把192.168.0.10机器上的source.txt文件拷贝到本地的/home/work目录下")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" work@192.168.0.10:/home/work/source.txt /home/work/\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把192.168.0.10机器上的source.txt文件拷贝到192.168.0.11机器的/home/work目录下")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" work@192.168.0.10:/home/work/source.txt work@192.168.0.11:/home/work/\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拷贝文件夹，加-r参数")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -r /home/work/sourcedir work@192.168.0.10:/home/work/\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用主机名")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -r /home/work/sourcedir work@www.myhost.com:/home/work/\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示详情，加-v参数")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -r -v /home/work/sourcedir work@www.myhost.com:/home/work/\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 排除子目录，注意：--exclude后面的路径不能为绝对路径，必须为相对路径才可以，否则匹配不上，就不会被排除掉。")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -r -v --exclude sourcedir/notinclude /home/work/sourcedir work@www.myhost.com:/home/work/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br")])]),e("h2",{attrs:{id:"性能及网速测试工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#性能及网速测试工具"}},[s._v("#")]),s._v(" 性能及网速测试工具")]),s._v(" "),e("h3",{attrs:{id:"一键测试脚本bench-sh"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一键测试脚本bench-sh"}},[s._v("#")]),s._v(" 一键测试脚本bench.sh")]),s._v(" "),e("blockquote",[e("p",[s._v("这个是秋水逸冰老大的脚本，用于测试网络下载及主机IO性能测试。是网络上普遍使用的脚本，界面很漂亮。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -qO- bench.sh "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_91yun的网络测试脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_91yun的网络测试脚本"}},[s._v("#")]),s._v(" 91yun的网络测试脚本")]),s._v(" "),e("blockquote",[e("p",[s._v("这个来自91yun的脚本，主要测试的是网络ping值及路由。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -N --no-check-certificate https://raw.githubusercontent.com/91yun/91yuntest/master/test_91yun.sh\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" test_91yun.sh s\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"主机运算性能测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主机运算性能测试"}},[s._v("#")]),s._v(" 主机运算性能测试")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" --no-check-certificate https://github.com/teddysun/across/raw/master/unixbench.sh\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x unixbench.sh\n./unixbench.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"服务器一键测试脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务器一键测试脚本"}},[s._v("#")]),s._v(" 服务器一键测试脚本")]),s._v(" "),e("blockquote",[e("p",[s._v("可以一键检测服务器基本性能，以及网络去程回程的速度。功能相当完善。作者还一直在维护，\n代码整合来自 SpeedTest 和 OldKing 的 SuperSpeed。")])]),s._v(" "),e("ul",[e("li",[s._v("by "),e("a",{attrs:{href:"https://github.com/FunctionClub/ZBench",target:"_blank",rel:"noopener noreferrer"}},[s._v("FunctionClub"),e("OutboundLink")],1)])]),s._v(" "),e("h3",{attrs:{id:"中文版"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#中文版"}},[s._v("#")]),s._v(" 中文版")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ZBench-CN.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"英文版"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#英文版"}},[s._v("#")]),s._v(" 英文版")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench.sh\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" ZBench.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("blockquote",[e("p",[s._v("测试完之后，会在/root/下面生成一个 report.html 的文件。")])]),s._v(" "),e("ul",[e("li",[s._v("Superspeed.sh by "),e("a",{attrs:{href:"https://github.com/oooldking/script",target:"_blank",rel:"noopener noreferrer"}},[s._v("Oldking"),e("OutboundLink")],1)])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://raw.githubusercontent.com/oooldking/script/master/superspeed.sh\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x superspeed.sh\n./superspeed.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"路由跟踪"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由跟踪"}},[s._v("#")]),s._v(" 路由跟踪")]),s._v(" "),e("h3",{attrs:{id:"ping"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ping"}},[s._v("#")]),s._v(" ping")]),s._v(" "),e("blockquote",[e("p",[s._v("ping使用了ICMP回送请求和回送应答报文。ping工具发出去的数据包没有通过tcp/udp协议，\n但是要经过ip协议。ping命令计算的时间是数据包的往返总时间。")])]),s._v(" "),e("ul",[e("li",[e("p",[e("strong",[s._v("ping选项")])])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-c num")]),s._v("  表示使用ping发出去num个数据包")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-d")]),s._v(" 使用Socket的SO_DEBUG功能。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-f")]),s._v("  极限检测。大量且快速地送网络封包给一台机器，看它的回应。快速ping，Flood ping，发送接收ICMP Echo报文的频率快了非常多")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-n")]),s._v(" 只输出IP,表示ping的输出中包含主机信息的都用ip表示，不在进行ip和主机名之间的映射，那样ping的响应速度会更快。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-q")]),s._v(" 不显示任何传送封包的信息，只显示最后的结果。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-r")]),s._v(" 忽略普通的Routing Table，直接将数据包送到远端主机上。通常是查看本机的网络接口是否有问题。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-R")]),s._v(" 记录路由过程。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-v")]),s._v(" 详细显示指令的执行过程。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-c")]),s._v(" 数目：在发送指定数目的包后停止。LINUX的ping不会自动终止如果不指定这个参数就需要手动按ctrl+c终止")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-i")]),s._v(" 秒数：设定间隔几秒送一个网络封包给一台机器，预设值是一秒送一次。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-I")]),s._v(" 网络界面：使用指定的网络界面送出数据包。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-l")]),s._v(" 前置载入：设置在送出要求信息之前，先行发出的数据包。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-p")]),s._v(" 范本样式：设置填满数据包的范本样式。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-s")]),s._v(" packetsize 字节数：指定发送的数据字节数，预设值是56，加上8字节的ICMP头，一共是64ICMP数据字节。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-t")]),s._v(" 存活数值：设置存活数值TTL的大小。设定数据包在网络上传输的Time To Live（TTL）生命周期")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("ping示例")])])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ping -c 3 -s 512 www.woytu.com  #表示向www.bnxb.com发送3个512B大小的数据包，来进行网络探测  \nping -f www.woytu.com           #快速ping\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"traceroute"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#traceroute"}},[s._v("#")]),s._v(" traceroute")]),s._v(" "),e("ul",[e("li",[e("p",[e("strong",[s._v("traceroute选项")])])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-d")]),s._v(" 使用Socket层级的排错功能。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-f")]),s._v(" 设置第一个检测数据包的存活数值TTL的大小。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-F")]),s._v(" 设置勿离断位。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-g")]),s._v(" 设置来源路由网关,最多可设置8个。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-i")]),s._v(" 使用指定的网络界面送出数据包。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-I")]),s._v(" 使用ICMP回应取代UDP,与-U-T是互斥关系。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-m")]),s._v(" 设置检测数据包的最大存活数值TTL的大小,也就是改变跳数,默认只检测30跳。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-n")]),s._v(" 直接使用IP地址而非主机名称。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-p")]),s._v(" 设置UDP传输协议的通信端口。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-q")]),s._v(" 改变每一次主机之间路由传送包的次数,最大为10")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-r")]),s._v(" 忽略普通的Routing Table,直接将数据包送到远端主机上。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-s")]),s._v(" 设置本地主机送出数据包的IP地址。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-t")]),s._v(" 设置检测数据包的TOS数值。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-T")]),s._v(" 使用TCP协议来探测,与-U-I是互斥关系,另外TCP协议默认是80端口,而LINUX下1024以下端口需要管理员ROOT权限才能执行,因此需注意权限。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-U")]),s._v(" 使用UDP协议来探测,这是默认的检测协议")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-v")]),s._v(" 详细显示指令的执行过程。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-w")]),s._v(" 设置等待远端主机回报的时间。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-x")]),s._v(" 开启或关闭数据包的正确性检验。")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("安装")])])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("traceroute")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("strong",[s._v("示例")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("traceroute")]),s._v(" www.woytu.com\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("备注，使用traceroute返回的每行信息中有三个时间值，那是因为对于每个节点或者路由器，源端发了三次探测请求。")])]),s._v(" "),e("h3",{attrs:{id:"tcptraceroute"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tcptraceroute"}},[s._v("#")]),s._v(" tcptraceroute")]),s._v(" "),e("ul",[e("li",[e("p",[e("strong",[s._v("tcptraceroute选项")])])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-i")]),s._v(" 指定接口")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-f")]),s._v(" 设置开始TTL值（第一条显示的路径）")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-l")]),s._v(" 包长度")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-q")]),s._v(" 每一跳延时查询的次数（default 3）")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-t")]),s._v(" 设置TOS(服务类型)可用于传出数据包。默认 未设置")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-m")]),s._v(" 设置最大TTL值")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-p")]),s._v(" 指定使用本机的特定端口作为源端口（默认随机）")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-s")]),s._v(" 如果本机有多个IP，可指定使用一个IP进行追踪")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-w")]),s._v(" 等待超时时间")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("host")]),s._v(" 必跟参数，可以使用主机名或者IP地址")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("des port")]),s._v(" 可选选项，默认使用目的地址的80端口")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("安装")])])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" tcptraceroute\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("strong",[s._v("示例")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("tcptraceroute www.woytu.com "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v(" -n -q "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"mtr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mtr"}},[s._v("#")]),s._v(" mtr")]),s._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://www.cnblogs.com/xzkzzz/p/7413177.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.cnblogs.com/xzkzzz/p/7413177.html"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://www.jianshu.com/p/802010d54849",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.jianshu.com/p/802010d54849"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1332118",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://cloud.tencent.com/developer/article/1332118"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"http://winmtr.net/download-winmtr/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://winmtr.net/download-winmtr"),e("OutboundLink")],1)])])]),s._v(" "),e("blockquote",[e("p",[s._v("在Linux中有一个更好的网络连通性判断工具，它可以结合ping | nslookup | tracert 来判断网络的相关特性，这个命令就是mtr。")])]),s._v(" "),e("blockquote",[e("p",[s._v("注意：MTR使用的raw sockets是绕过TCP/IP协议，需要ROOT权限来执行，因此如果以普通用户身份来执行mtr会出错，\n提示“mtr: unable to get raw sockets”")])]),s._v(" "),e("ul",[e("li",[e("p",[e("strong",[s._v("选项")])])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-n")]),s._v(" 不探测主机名,no-dns不对IP地址做主机名解析")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-r")]),s._v(" 将mtr设置为报告模式，追踪结果以报告模式输出。若没有-r显现，那么将进入mtr的实时交互模式。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-c")]),s._v(" num 定义追踪的次数，每次是1s，且-c必须和-r配合使用，默认的10次。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-s")]),s._v(" 用来指定ping数据包的大小")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-a")]),s._v(" 来设置发送数据包的IP地址 这个对一个主机由多个IP地址是有用的")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-i")]),s._v(" 使用这个参数来设置ICMP返回之间的要求默认是1秒")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-4")]),s._v(" IPv4")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("-6")]),s._v(" IPv6")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("安装")])])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mtr")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("strong",[s._v("使用格式")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mtr")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("hostname")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("strong",[s._v("示例")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mtr")]),s._v(" -r www.woytu.com\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("第一列:显示的是IP地址和本机域名，这点和tracert很像")]),s._v(" "),e("li",[s._v("第二列:snt:10 设置追踪的次数，默认值是10 可以通过参数 -c来定制，例如mtr -r -c 15 www.bnxb.com")]),s._v(" "),e("li",[s._v("第三列 Loss: 是显示的每个对应IP的丢包率")]),s._v(" "),e("li",[s._v("第四列 Last: 显示的最近一次的返回时延")]),s._v(" "),e("li",[s._v("第五列 Avg : 是平均值 这个应该是发送ping包的平均时延")]),s._v(" "),e("li",[s._v("第六列 Best: 是最好或者说时延最短的")]),s._v(" "),e("li",[s._v("第七列 Wrst: 是最差或者说时延最常的")]),s._v(" "),e("li",[s._v("第八列 StDev: 是标准偏差")])]),s._v(" "),e("h2",{attrs:{id:"解决网卡问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决网卡问题"}},[s._v("#")]),s._v(" 解决网卡问题")]),s._v(" "),e("h3",{attrs:{id:"mtu"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mtu"}},[s._v("#")]),s._v(" MTU")]),s._v(" "),e("blockquote",[e("p",[s._v("MTU经过网卡传输的数据包的最大传输单元,传输设备的MTU值不规范造成传输失败的情况")])]),s._v(" "),e("h3",{attrs:{id:"查看mtu值"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看mtu值"}},[s._v("#")]),s._v(" 查看MTU值")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /sys/class/net/eth0/mtu\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"临时更改mtu值"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#临时更改mtu值"}},[s._v("#")]),s._v(" 临时更改MTU值")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1476"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /sys/class/net/eth0/mtu\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ifconfig 网口名 mtu 数值")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ifconfig")]),s._v(" eth0 mtu "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1476")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"永久更改mtu值"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#永久更改mtu值"}},[s._v("#")]),s._v(" 永久更改MTU值")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysconfig/network-scripts/ifcfg-eth0\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在DEVICE=eth0下面加入")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MTU")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1476")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启用IPv6地址的，修改IPv6 mtu的参数为")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("IPV6_MTU")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1280"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"重启网络接口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重启网络接口"}},[s._v("#")]),s._v(" 重启网络接口")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" network restart\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);