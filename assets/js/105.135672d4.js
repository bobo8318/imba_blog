(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{451:function(s,e,n){"use strict";n.r(e);var t=n(43),a=Object(t.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"linux知识记录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linux知识记录"}},[s._v("#")]),s._v(" linux知识记录")]),s._v(" "),n("h3",{attrs:{id:"linux"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[s._v("#")]),s._v(" linux")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("常用软件安装")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("firefox")]),s._v(" "),n("blockquote",[n("p",[s._v("yum -y install firefox")])])])])]),s._v(" "),n("li",[n("p",[s._v("centos")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("后台运行java程序")]),s._v(" "),n("blockquote",[n("p",[s._v("nohup java -jar xx.jar >/dev/null  &")]),s._v(" "),n("p",[s._v(">/dev/null  的作用是输出到空洞  >/xxx/yyy.out 可以输出到文件")]),s._v(" "),n("p",[s._v("& 代表在后台运行")]),s._v(" "),n("p",[s._v("nohup 意思是不挂断运行命令,当账户退出或终端关闭时,程序仍然运行， 缺省情况下该作业的所有输出被重定向到nohup.out的文件中")]),s._v(" "),n("p",[s._v("//关闭后台程序")]),s._v(" "),n("p",[s._v("ps aux 查看后台运行程序")]),s._v(" "),n("p",[s._v("kill -9 PID 结束程序")])])]),s._v(" "),n("li",[n("p",[s._v("环境变量设置")]),s._v(" "),n("blockquote",[n("p",[s._v("sudo vi /etc/profile\nexport BASE_PATH = /usr/local/bin\nexport PATH=$PATH:$BASE_PATH\nsource /etc/profile")])])]),s._v(" "),n("li",[n("p",[s._v("开启防火墙及特定端口")]),s._v(" "),n("blockquote",[n("p",[s._v("firewall-cmd --state //查看防火墙状态")]),s._v(" "),n("p",[s._v("systemctl start firewalld.service //启动防火墙")]),s._v(" "),n("p",[s._v("systemctl enable firewalld.service  //设置开机启动")]),s._v(" "),n("p",[s._v("systemctl restart firewalld.service  //重启防火墙")]),s._v(" "),n("p",[s._v("systemctl is-enabled firewalld.service;echo $? //查看防火墙设置开机自启是否成功")]),s._v(" "),n("p",[s._v("// 开启端口")]),s._v(" "),n("p",[s._v("firewall-cmd --zone=public --add-port=80/tcp --permanent")]),s._v(" "),n("p",[s._v("--zone #作用域\n--add-port=80/tcp  #添加端口，格式为：端口/通讯协议\n--permanent   #永久生效，没有此参数重启后失效")]),s._v(" "),n("p",[s._v("firewall-cmd --reload //重新加载防火墙策略")]),s._v(" "),n("p",[s._v("netstat -ntlp\n或：firewall-cmd --list-ports //查看端口开放效果")])])])])]),s._v(" "),n("li",[n("p",[s._v("查看端口占用情况")]),s._v(" "),n("blockquote",[n("p",[s._v("netstat -lnp|grep 8080\nnetstat -antup |grep 2711 // 通过进程查看端口\n(yum -y install net-tools)\nnetstat -antup |grep 2711 // 通过进程查看端口")])])]),s._v(" "),n("li",[n("p",[s._v("进程操作")]),s._v(" "),n("blockquote",[n("p",[s._v("ps 1777 //查看进程信息\nkill -9 [PID]  #-9 表示强迫进程立即停止\nps -ef|grep redis //知道服务名称")])]),s._v(" "),n("ul",[n("li",[s._v("权限")]),s._v(" "),n("li",[s._v("Centos7 普通用户加入sudo组")])]),s._v(" "),n("blockquote",[n("p",[s._v("whereis sudoers//查找\nvi /etc/sudoers //编辑\nroot ALL = (ALL) ALL //下面添加需要添加的用户")])]),s._v(" "),n("ul",[n("li",[n("p",[s._v("centos 网络设置")]),s._v(" "),n("blockquote",[n("p",[s._v("ip addr 查看IP地址\nvi /etc/sysconfig/network-scripts/ifcfg-eth0  //网卡配置地址文件\nONBOOT=yes   #系统启动时是否激活此设备 默认不开启 需要开启一下")])])]),s._v(" "),n("li",[n("p",[s._v("常见故障：")]),s._v(" "),n("ul",[n("li",[s._v("su:鉴定故障\n"),n("blockquote",[n("p",[s._v("sudo passwd root\n输入当前用户密码，然后输入设置的root密码")])])])])])])]),s._v(" "),n("li",[n("p",[s._v("ubuntu")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("ubuntu 修改 ssh默认端口号")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Linux中SSH默认端口为22，为了安全考虑，我们有必要对22端口进行修改，现修改端口为60000；\n\n修改方法如下：\n在/etc/ssh/sshd_config中找到Port 22，将其修改为60000,或使用/usr/sbin/sshd -p 60000指定端口。\n\n如果用户想让22和60000端口同时开放，只需在/etc/ssh/sshd_config增加一行内容如下：\n[root@localhost /]# vi /etc/ssh/sshd_config\nPort 22\nPort 60000\n保存并退出\n[root@localhost /]#service ssh restart\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("mariadb install(2020-04-16) https://www.cnblogs.com/yhongji/p/9783065.html")]),s._v(" "),n("blockquote",[n("p",[s._v("yum install mariadb-server")]),s._v(" "),n("p",[s._v("systemctl start mariadb  # 开启服务\nsystemctl enable mariadb  # 设置为开机自启动服务\nmysql_secure_installation #首次安装需要进行数据库的配置，命令都和mysql的一样")])]),s._v(" "),n("ul",[n("li",[n("p",[s._v("init set")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Enter current password for root (enter for none):  # 输入数据库超级管理员root的密码(注意不是系统root的密码)，第一次进入还没有设置密码则直接回车\n\nSet root password? [Y/n]  # 设置密码，y\n\nNew password:  # 新密码\nRe-enter new password:  # 再次输入密码\n\nRemove anonymous users? [Y/n]  # 移除匿名用户， y\n\nDisallow root login remotely? [Y/n]  # 拒绝root远程登录，n，不管y/n，都会拒绝root远程登录\n\nRemove test database and access to it? [Y/n]  # 删除test数据库，y：删除。n：不删除，数据库中会有一个test数据库，一般不需要\n\nReload privilege tables now? [Y/n]  # 重新加载权限表，y。或者重启服务也许\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("firewall set")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("[root@mini ~]# firewall-cmd --query-port=3306/tcp  # 查看3306端口是否开启\nno\n[root@mini ~]# firewall-cmd --zone=public --add-port=3306/tcp --permanent  # 开启3306端口\nsuccess\n[root@mini ~]# firewall-cmd --reload  # 重启防火墙\nsuccess\n[root@mini ~]# firewall-cmd --query-port=3306/tcp  # 查看3306端口是否开启\nyes\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("char set")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1. /etc/my.cnf 文件 在  [mysqld]  标签下添加\ninit_connect='SET collation_connection = utf8_unicode_ci'\ninit_connect='SET NAMES utf8'\ncharacter-set-server=utf8\ncollation-server=utf8_unicode_ci\nskip-character-set-client-handshake\n\n2. /etc/my.cnf.d/client.cnf 文件 在  [client]  标签下添加\ndefault-character-set=utf8\n\n3.etc/my.cnf.d/mysql-clients.cnf  文件 在  [mysql]  标签下添加\ndefault-character-set=utf8\n\n4.restart service\nsystemctl restart mariadb\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("remote connect")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("use mysql;\nselect host, user from user;\nupdate user set host='%' where host='mini';\nflush privileges;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("Disk")]),s._v(" "),n("ul",[n("li",[s._v("查看磁盘使用率")])]),s._v(" "),n("blockquote",[n("p",[s._v("df -h")])]),s._v(" "),n("ul",[n("li",[n("p",[s._v("find local docker dir")]),s._v(" "),n("blockquote",[n("p",[s._v('sudo docker info | grep "Docker Root Dir"')])])]),s._v(" "),n("li",[n("p",[s._v("move docker file")]),s._v(" "),n("blockquote",[n("p",[s._v("service docker stop")]),s._v(" "),n("p",[s._v("mv /var/libdocker /data/docker")]),s._v(" "),n("p",[s._v("ln -s /data/docker /var/lib/docker")])])]),s._v(" "),n("li",[n("p",[s._v("check dir space")]),s._v(" "),n("blockquote",[n("p",[s._v("sudo du -h -x --max-depth=1")])])])])])])])}),[],!1,null,null,null);e.default=a.exports}}]);