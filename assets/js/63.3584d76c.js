(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{409:function(s,a,t){"use strict";t.r(a);var e=t(43),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"邮箱"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#邮箱"}},[s._v("#")]),s._v(" 邮箱")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#flag"}},[s._v("flag")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E5%9F%9F%E5%90%8D%E9%82%AE%E7%AE%B1"}},[s._v("域名邮箱")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#%E7%AB%AF%E5%8F%A3"}},[s._v("端口")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#yandex%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4"}},[t("code",[s._v("Yandex")]),s._v("配置步骤")])])])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E4%B8%B4%E6%97%B6%E9%82%AE%E7%AE%B1"}},[s._v("临时邮箱")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8"}},[s._v("邮件服务器")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A6%82%E8%BF%B0"}},[s._v("邮件服务器概述")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#%E6%B5%81%E7%A8%8B"}},[s._v("流程")])])])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E8%AE%BE%E7%BD%AE%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90"}},[s._v("设置域名解析")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E5%8D%B8%E8%BD%BDsendmail"}},[s._v("卸载"),t("code",[s._v("sendmail")])])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E5%AE%89%E8%A3%85postfix%E5%92%8Cdovecot"}},[s._v("安装"),t("code",[s._v("Postfix")]),s._v("和"),t("code",[s._v("Dovecot")])])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%89%88%E6%9C%AC"}},[s._v("查看版本")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E4%BF%AE%E6%94%B9%E9%82%AE%E4%BB%B6%E4%BC%A0%E8%BE%93%E4%BB%A3%E7%90%86"}},[s._v("修改邮件传输代理")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E6%98%AF%E5%90%A6%E4%BF%AE%E6%94%B9%E6%88%90%E5%8A%9F"}},[s._v("查看是否修改成功")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E4%BF%AE%E6%94%B9postfix%E9%85%8D%E7%BD%AE"}},[s._v("修改"),t("code",[s._v("Postfix")]),s._v("配置")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E9%85%8D%E7%BD%AE"}},[s._v("查看配置")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE"}},[s._v("编辑配置")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E4%BF%AE%E6%94%B9%E4%BB%A5%E4%B8%8B%E5%86%85%E5%AE%B9"}},[s._v("修改以下内容")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E5%9C%A8%E6%96%87%E4%BB%B6%E7%BB%93%E5%B0%BE%E5%8A%A0%E5%85%A5"}},[s._v("在文件结尾加入")])])])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E4%BF%AE%E6%94%B9dovecot%E9%85%8D%E7%BD%AE"}},[s._v("修改"),t("code",[s._v("Dovecot")]),s._v("配置")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E4%BF%AE%E6%94%B9%E9%98%B2%E7%81%AB%E5%A2%99%E9%85%8D%E7%BD%AE"}},[s._v("修改防火墙配置")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E5%8F%8A%E6%9D%83%E9%99%90"}},[s._v("配置用户及权限")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1"}},[s._v("启动服务")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E4%BD%BF%E7%94%A8mail%E6%B5%8B%E8%AF%95%E5%8F%91%E4%BF%A1"}},[s._v("使用"),t("code",[s._v("mail")]),s._v("测试发信")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%E4%BD%BF%E7%94%A8telnet%E6%B5%8B%E8%AF%95%E6%94%B6%E4%BF%A1"}},[s._v("使用"),t("code",[s._v("telnet")]),s._v("测试收信")])])])])]),s._v(" "),t("h2",{attrs:{id:"flag"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flag"}},[s._v("#")]),s._v(" flag")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.mail-tester.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("测试邮箱"),t("OutboundLink")],1)])]),s._v(" "),t("h2",{attrs:{id:"域名邮箱"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#域名邮箱"}},[s._v("#")]),s._v(" 域名邮箱")]),s._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"https://www.bt.cn/bbs/thread-32749-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("宝塔邮局管理器"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.httpsmail.com/hosting/",target:"_blank",rel:"noopener noreferrer"}},[s._v("httpsmail"),t("OutboundLink")],1)])])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("国外免费域名邮箱")]),s._v(" "),t("th",[t("a",{attrs:{href:"https://hky.moe/archives/21/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Yandex"),t("OutboundLink")],1)])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("域名数量")]),s._v(" "),t("td",[s._v("不限")])]),s._v(" "),t("tr",[t("td",[s._v("用户数量")]),s._v(" "),t("td",[s._v("1000")])]),s._v(" "),t("tr",[t("td",[s._v("邮箱别名")]),s._v(" "),t("td",[s._v("支持")])]),s._v(" "),t("tr",[t("td",[s._v("邮箱容量")]),s._v(" "),t("td",[s._v("不限")])]),s._v(" "),t("tr",[t("td",[s._v("两步验证")]),s._v(" "),t("td",[s._v("支持")])]),s._v(" "),t("tr",[t("td",[s._v("Catch All")]),s._v(" "),t("td",[s._v("支持")])]),s._v(" "),t("tr",[t("td",[s._v("POP3")]),s._v(" "),t("td",[s._v("支持")])]),s._v(" "),t("tr",[t("td",[s._v("IMAP")]),s._v(" "),t("td",[s._v("支持")])]),s._v(" "),t("tr",[t("td",[s._v("SMTP")]),s._v(" "),t("td",[s._v("支持")])]),s._v(" "),t("tr",[t("td",[s._v("Exchange")]),s._v(" "),t("td",[s._v("不支持")])])])]),s._v(" "),t("h4",{attrs:{id:"端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#端口"}},[s._v("#")]),s._v(" 端口")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("Yandex")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("SMTP")]),s._v("："),t("code",[s._v("smtp.yandex.com:465 SSL")])]),s._v(" "),t("li",[t("code",[s._v("IMAP")]),s._v("："),t("code",[s._v("imap.yandex.com:993 SSL")])]),s._v(" "),t("li",[t("code",[s._v("POP3")]),s._v("："),t("code",[s._v("pop.yandex.com:995 SSL")])])])])]),s._v(" "),t("h3",{attrs:{id:"yandex配置步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yandex配置步骤"}},[s._v("#")]),s._v(" "),t("code",[s._v("Yandex")]),s._v("配置步骤")]),s._v(" "),t("blockquote",[t("p",[s._v("注意：如果是添加第二个域名（一个域名是一个组织），进入"),t("a",{attrs:{href:"https://connect.yandex.com/portal/admin",target:"_blank",rel:"noopener noreferrer"}},[s._v("账户管理页面"),t("OutboundLink")],1),s._v("，\n然后点击顶部的域名后弹出下拉菜单有一个"),t("code",[s._v("New organization")]),s._v("按钮来添加新域名，然后按照步骤（跳过1、2）操作即可")])]),s._v(" "),t("ul",[t("li",[s._v("1、注册账户")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://mail.yandex.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://mail.yandex.com"),t("OutboundLink")],1)]),s._v(" "),t("ul",[t("li",[s._v("2、添加域名")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://connect.yandex.com/pdd/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://connect.yandex.com/pdd/"),t("OutboundLink")],1)]),s._v(" "),t("ul",[t("li",[s._v("3、验证域名所有权")])]),s._v(" "),t("blockquote",[t("p",[s._v("此时已经进入到管理页面，在左侧菜单"),t("code",[s._v("Domains")]),s._v("中点击域名（此时域名右侧是"),t("code",[s._v("禁止符号")]),s._v("）验证域名所有权，\n验证成功后左侧菜单栏会多出几个菜单（这时域名右侧是"),t("code",[s._v("感叹号")]),s._v("）")])]),s._v(" "),t("ul",[t("li",[s._v("4、DNS配置"),t("code",[s._v("SPF Record")]),s._v("、"),t("code",[s._v("MX")]),s._v("、二级域名")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://connect.yandex.com/portal/admin/customization/dns",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://connect.yandex.com/portal/admin/customization/dns"),t("OutboundLink")],1)]),s._v(" "),t("blockquote",[t("p",[s._v("按照上面链接中的DNS配置（或者点击左侧菜单栏"),t("code",[s._v("DNS management")]),s._v("）到自己域名所在服务商添加DNS解析，\n注意末尾的点不要丢了，等待几分钟刷新（域名右侧是"),t("code",[s._v("绿色的勾")]),s._v("）")])]),s._v(" "),t("ul",[t("li",[s._v("5、DNS配置"),t("code",[s._v("DKIM signature")])])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://connect.yandex.com/portal/admin/customization/mail",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://connect.yandex.com/portal/admin/customization/mail"),t("OutboundLink")],1)]),s._v(" "),t("blockquote",[t("p",[s._v("点击上面的连接（就是左侧"),t("code",[s._v("Email")]),s._v("菜单）进入界面后点击"),t("code",[s._v("DKIM signatures")]),s._v("点击"),t("code",[s._v("Copy")]),s._v(",然后在域名所在服务商添加一条TXT记录DNS解析，\n主机记录（name）为"),t("code",[s._v("mail._domainkey")]),s._v(",值就是刚刚复制的"),t("code",[s._v("DKIM signatures")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"/images/YandexMailDNS.png",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("6、添加邮箱账户")])]),s._v(" "),t("blockquote",[t("p",[s._v("点击 "),t("code",[s._v("Все сотрудники")]),s._v("（就是左侧第一个菜单），然后点击页面下方有一个带"),t("code",[s._v("+")]),s._v("的"),t("code",[s._v("add")]),s._v("按钮，\n再点击"),t("code",[s._v("Add a person")]),s._v("，在弹出的页面输入，带"),t("code",[s._v("*")]),s._v("的为必填，填完后就点击"),t("code",[s._v("橙色的add按钮")])])]),s._v(" "),t("ul",[t("li",[s._v("7、新添加的账户需要去登录并同意一个协议才能使用")])]),s._v(" "),t("blockquote",[t("p",[s._v("点击"),t("a",{attrs:{href:"https://mail.yandex.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://mail.yandex.com"),t("OutboundLink")],1),s._v("登录新账户并点击"),t("code",[s._v("Complete registration")]),s._v("按钮同意协议")])]),s._v(" "),t("ul",[t("li",[s._v("8、pop3无法使用的解决办法")])]),s._v(" "),t("blockquote",[t("p",[s._v("点击"),t("a",{attrs:{href:"https://mail.yandex.com/#setup/client",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://mail.yandex.com/#setup/client"),t("OutboundLink")],1),s._v("\n登陆邮箱按照下图中步骤操作即可，登录后重新点击链接可省略下图中的1、2、3步")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/images/Yandex%E8%A7%A3%E5%86%B3POP3%E6%97%A0%E6%B3%95%E6%94%B6%E5%8F%96%E9%82%AE%E4%BB%B6.png",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("9、域名验证不通过解决办法")])]),s._v(" "),t("blockquote",[t("p",[s._v("进入"),t("a",{attrs:{href:"https://webmaster.yandex.com/sites",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://webmaster.yandex.com/sites"),t("OutboundLink")],1),s._v("点击没有通过验证域名上的"),t("code",[s._v("X")]),s._v("按钮进行删除，\n然后点击页面顶部的"),t("code",[s._v("+")]),s._v("按钮重新添加域名再验证。")])]),s._v(" "),t("blockquote",[t("p",[s._v("我的域名验证不通过发现是因为：添加不带"),t("code",[s._v("www")]),s._v("的域名，自动添加了"),t("code",[s._v("www")]),s._v("二级域名")])]),s._v(" "),t("h2",{attrs:{id:"临时邮箱"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#临时邮箱"}},[s._v("#")]),s._v(" 临时邮箱")]),s._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"https://github.com/denghongcai/forsaken-mail",target:"_blank",rel:"noopener noreferrer"}},[s._v("临时邮箱搭建"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://shorttimemail.com/zh-Hans",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://shorttimemail.com/zh-Hans"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.linshiyouxiang.net",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.linshiyouxiang.net"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"http://mail.bccto.me",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://mail.bccto.me"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.guerrillamail.com/zh",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.guerrillamail.com/zh"),t("OutboundLink")],1)])])]),s._v(" "),t("h2",{attrs:{id:"邮件服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#邮件服务器"}},[s._v("#")]),s._v(" 邮件服务器")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://tourcoder.com/install-postfix-on-centos-7/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://tourcoder.com/install-postfix-on-centos-7/"),t("OutboundLink")],1)])]),s._v(" "),t("h3",{attrs:{id:"邮件服务器概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#邮件服务器概述"}},[s._v("#")]),s._v(" 邮件服务器概述")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("MUA")]),s._v("："),t("code",[s._v("Mail User Agent")]),s._v("，邮件用户代理")])]),s._v(" "),t("blockquote",[t("p",[s._v("接收邮件所使用的邮件客户端，使用"),t("code",[s._v("IMAP")]),s._v("或"),t("code",[s._v("POP3")]),s._v("协议与服务器通信；")]),s._v(" "),t("p",[s._v("如："),t("code",[s._v("Outlook")]),s._v("、"),t("code",[s._v("Foxmail")]),s._v("、"),t("code",[s._v("thunderbird")]),s._v("、"),t("code",[s._v("Mac Mail")]),s._v("、"),t("code",[s._v("mutt")])])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("MTA")]),s._v("："),t("code",[s._v("Mail Transfer Agent")]),s._v("，邮件传输代理代为传递")])]),s._v(" "),t("blockquote",[t("p",[s._v("通过"),t("code",[s._v("SMTP")]),s._v("协议发送、转发邮件；")]),s._v(" "),t("p",[s._v("如："),t("code",[s._v("Sendmail")]),s._v("、"),t("code",[s._v("Postfix")])])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("MDA")]),s._v("："),t("code",[s._v("Mail Delivery Agent")]),s._v("，邮件投递代理")])]),s._v(" "),t("blockquote",[t("p",[s._v("将"),t("code",[s._v("MTA")]),s._v("接收到的邮件保存到磁盘或指定地方，通常会进行垃圾邮件及病毒扫描；")]),s._v(" "),t("p",[s._v("如："),t("code",[s._v("procmail")]),s._v("、"),t("code",[s._v("dropmail")])])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("MRA")]),s._v("："),t("code",[s._v("Mail Receive Agent")]),s._v("，邮件接收代理")])]),s._v(" "),t("blockquote",[t("p",[s._v("负责实现"),t("code",[s._v("IMAP")]),s._v("与"),t("code",[s._v("POP")]),s._v("3协议，与"),t("code",[s._v("MUA")]),s._v("进行交互；")]),s._v(" "),t("p",[s._v("如："),t("code",[s._v("dovecot")])])]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("SMTP")]),s._v("："),t("code",[s._v("Simple Mail Transfer Protocol")]),s._v("，传输发送邮件所使用的标准协议；")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("IMAP")]),s._v("："),t("code",[s._v("Internet Message Access Protocol")]),s._v("，接收邮件使用的标准协议之一；")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("POP3")]),s._v("："),t("code",[s._v("Post Office Protocol 3")]),s._v("，接收邮件使用的标准协议之一。")])])]),s._v(" "),t("h4",{attrs:{id:"流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程"}},[s._v("#")]),s._v(" 流程")]),s._v(" "),t("blockquote",[t("p",[s._v("邮件服务器基本都有"),t("code",[s._v("MTA")]),s._v("，"),t("code",[s._v("MDA")]),s._v("，"),t("code",[s._v("MRA")]),s._v("组成")])]),s._v(" "),t("blockquote",[t("p",[t("code",[s._v("MUA")]),s._v("(发件人发送) --\x3e (若干个)"),t("code",[s._v("MTA")]),s._v(" --\x3e "),t("code",[s._v("MDA")]),s._v(" --\x3e "),t("code",[s._v("MRA")]),s._v(" <–- "),t("code",[s._v("MUA")]),s._v("(收件人收取)")])]),s._v(" "),t("blockquote",[t("p",[s._v("协议："),t("code",[s._v("MUA")]),s._v("到"),t("code",[s._v("MTA")]),s._v("，以及"),t("code",[s._v("MTA")]),s._v("到"),t("code",[s._v("MTA")]),s._v("之间使用"),t("code",[s._v("SMTP")]),s._v("协议，而收邮件时，"),t("code",[s._v("MUA")]),s._v("到"),t("code",[s._v("MDA")]),s._v("之间使用"),t("code",[s._v("POP3")]),s._v("或"),t("code",[s._v("IMAP")]),s._v("协议。")])]),s._v(" "),t("ul",[t("li",[s._v("一、用户利用"),t("code",[s._v("MUA")]),s._v("寄信到"),t("code",[s._v("MTA")]),s._v("。配置"),t("code",[s._v("MUA")]),s._v("时要配上"),t("code",[s._v("SMTP")]),s._v("服务器域名,然后发送邮件。")])]),s._v(" "),t("blockquote",[t("p",[s._v("比如使用网易账户发送邮件就要在配置"),t("code",[s._v("smtp.163.com")]),s._v(",这样邮件就发送到网易"),t("code",[s._v("MTA")]),s._v("。")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("二、 "),t("code",[s._v("MTA")]),s._v("检查收件人服务器如果不是自己则传递到下一跳"),t("code",[s._v("MTA")]),s._v("，直到传递到目的"),t("code",[s._v("MTA")]),s._v("。")])]),s._v(" "),t("li",[t("p",[s._v("三、 目的"),t("code",[s._v("MTA")]),s._v("收到邮件后将邮件存储到"),t("code",[s._v("MDA")]),s._v("中，"),t("code",[s._v("MDA")]),s._v("对邮件进行垃圾过滤，病毒查杀。")])]),s._v(" "),t("li",[t("p",[s._v("四、 "),t("code",[s._v("MRA")]),s._v("把邮件从"),t("code",[s._v("MDA")]),s._v("收取到用户的收件箱中。")])]),s._v(" "),t("li",[t("p",[s._v("五、 "),t("code",[s._v("MUA")]),s._v("收取邮件，此时收取邮件只是将"),t("code",[s._v("MRA")]),s._v("中的邮件下载到本地。")])])]),s._v(" "),t("h3",{attrs:{id:"设置域名解析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置域名解析"}},[s._v("#")]),s._v(" 设置域名解析")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("记录类型")]),s._v(" "),t("th",[s._v("主机记录")]),s._v(" "),t("th",[s._v("解析线路(isp)")]),s._v(" "),t("th",[s._v("记录值")]),s._v(" "),t("th",[s._v("MX优先级")]),s._v(" "),t("th",[s._v("TTL值")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("A")]),s._v(" "),t("td",[s._v("mail")]),s._v(" "),t("td",[s._v("默认")]),s._v(" "),t("td",[s._v("服务器IP地址")]),s._v(" "),t("td",[s._v("–")]),s._v(" "),t("td",[s._v("10 分钟")])]),s._v(" "),t("tr",[t("td",[s._v("MX")]),s._v(" "),t("td",[s._v("@")]),s._v(" "),t("td",[s._v("默认")]),s._v(" "),t("td",[s._v("mail.域名")]),s._v(" "),t("td",[s._v("10")]),s._v(" "),t("td",[s._v("10 分钟")])])])]),s._v(" "),t("h3",{attrs:{id:"卸载sendmail"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#卸载sendmail"}},[s._v("#")]),s._v(" 卸载"),t("code",[s._v("sendmail")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum remove -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendmail")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"安装postfix和dovecot"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装postfix和dovecot"}},[s._v("#")]),s._v(" 安装"),t("code",[s._v("Postfix")]),s._v("和"),t("code",[s._v("Dovecot")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y postfix dovecot\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"查看版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看版本"}},[s._v("#")]),s._v(" 查看版本")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"postfix\\|dovecot"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -e postfix -e dovecot\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -E "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"postfix|dovecot"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("egrep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"postfix|dovecot"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/postfix|dovecot/"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h3",{attrs:{id:"修改邮件传输代理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改邮件传输代理"}},[s._v("#")]),s._v(" 修改邮件传输代理")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("alternatives --config mta\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者先查看邮件传输代理程序，再设置")]),s._v("\n/usr/sbin/alternatives --set mta /usr/sbin/sendmail.postfix\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("blockquote",[t("p",[s._v("会提示找到几个可用程序，输入自己需要的那个程序的数字即可")])]),s._v(" "),t("h3",{attrs:{id:"查看是否修改成功"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看是否修改成功"}},[s._v("#")]),s._v(" 查看是否修改成功")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("alternatives --display mta\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[s._v("第一行显示"),t("code",[s._v("mta - status is manual.")]),s._v("则表示设置成功")])]),s._v(" "),t("h3",{attrs:{id:"修改postfix配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改postfix配置"}},[s._v("#")]),s._v(" 修改"),t("code",[s._v("Postfix")]),s._v("配置")]),s._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"http://blog.leanote.com/post/colin_xia@yeah.net/postfix-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://blog.leanote.com/post/colin_xia@yeah.net/postfix-官方文档笔记"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.cnblogs.com/operationhome/p/9056870.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.cnblogs.com/operationhome/p/9056870.html"),t("OutboundLink")],1)])])]),s._v(" "),t("blockquote",[t("p",[s._v("在"),t("code",[s._v("main.cf")]),s._v("中配置的值会自动分散到多个指定的配置文件中去")])]),s._v(" "),t("h5",{attrs:{id:"查看配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看配置"}},[s._v("#")]),s._v(" 查看配置")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出所有postfix配置项以及默认值")]),s._v("\npostconf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不输出#开头和空行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^#\\|^$'")]),s._v(" /etc/postfix/main.cf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h5",{attrs:{id:"编辑配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编辑配置"}},[s._v("#")]),s._v(" 编辑配置")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/postfix/main.cf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"修改以下内容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改以下内容"}},[s._v("#")]),s._v(" 修改以下内容")]),s._v(" "),t("div",{staticClass:"language-vim line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-vim"}},[t("code",[s._v("# "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("75")]),s._v("行"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("主机名\nmyhostname "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mail"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("example"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("com")]),s._v("\n# "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v("行"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("设置本地网络的邮件域\nmydomain "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" example"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("com")]),s._v("\n# "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("行"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("要外发邮件时发件人的邮件域名，这里取的mydomain变量值\nmyorigin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" $mydomain\n# "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("116")]),s._v("行"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("默认是localhost，修改成"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),s._v("，即监听所有网络接口\ninet_interfaces "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),s._v("\n# "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("119")]),s._v("行"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("网络协议 ipv6、ipv4或者"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),s._v("\ninet_protocols "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),s._v("\n# "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("164")]),s._v("行"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("设置可接收邮件的主机名或域名，来自其他主机名或域名的邮件将拒绝接收\nmydestination "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" $myhostname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" localhost"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("$mydomain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" $mydomain\n# "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("210")]),s._v("行"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("制定接收邮件的规则，可以是hash文件，可以直接注释\nlocal_recipient_maps "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n# "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("264")]),s._v("行"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("收发客户端的地址\nmynetworks "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n# "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("296")]),s._v("行"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("设置可转发来自哪些域名或主机名的邮件\nrelay_domains "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" $mydestination\n# "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("419")]),s._v("行"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("邮件存储的位置\nhome_mailbox "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Maildir"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n# "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("572")]),s._v("行"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("指定MUA通过smtp连接postfix时返回的header头信息，定义欢迎信息\nsmtpd_banner "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" $myhostname ESMTP $mail_name\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("h5",{attrs:{id:"在文件结尾加入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在文件结尾加入"}},[s._v("#")]),s._v(" 在文件结尾加入")]),s._v(" "),t("div",{staticClass:"language-vim line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-vim"}},[t("code",[s._v("# 启用SMTP认证\nsmtpd_sasl_type "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" dovecot\n# \nsmtpd_sasl_path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("spool"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("postfix"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("private"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("auth\n# 指定postfix使用sasl验证：就是启用smtp并要求进行账号、密码效验\nsmtpd_sasl_auth_enable "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" yes\n# 指定SMTP认证的本地域名：可以使用"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v("或注释掉，默认为空\nsmtpd_sasl_local_domain "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" $myhostname\n# 支持非标准验证规定的行为，\n# 指定postfix兼容MUA使用不规则的smtp协议，主要针对老版本的outlook\nbroken_sasl_auth_clients "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" yes\n# 当客户端引发错误时"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("postfix的初始等待时间 \nsmtpd_error_sleep_time "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0s\n# 收件人限制条件\nsmtpd_recipient_restrictions "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" permit_mynetworks"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("permit_sasl_authenticated"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("reject_unauth_destination"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("reject_unknown_sender_domain\n# 客户端限制\nsmtpd_client_restrictions "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" permit_sasl_authenticated\n# 取消smtp的匿名登录\nsmtpd_sasl_security_options "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" noanonymous\n# \nproxy_read_maps "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" $local_recipient_maps $mydestination $virtual_alias_maps $virtual_alias_domains $virtual_mailbox_maps $virtual_mailbox_domains $relay_recipient_maps $relay_domains $canonical_maps $sender_canonical_maps $recipient_canonical_maps $relocated_maps $transport_maps $mynetworks\n# 指定通过postfix发送邮件的体积大小，此处表示5M\nmessage_size_limit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5242880")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("blockquote",[t("p",[t("code",[s._v("smtpd_recipient_restrictions")]),s._v("（收件人限制）有以下可用值：")]),s._v(" "),t("blockquote",[t("p",[t("code",[s._v("permit_mynetworks")]),s._v("允许本地的网络接收")]),s._v(" "),t("p",[t("code",[s._v("permit_sasl_authenticated")]),s._v("允许通过"),t("code",[s._v("SASL")]),s._v("验证的用户（也就是"),t("code",[s._v("smtp")]),s._v("链接时通过了账号、密码效验的用户）的所有用户")]),s._v(" "),t("p",[t("code",[s._v("reject_unauth_destination")]),s._v("拒绝无法认证的目的地")])])]),s._v(" "),t("h3",{attrs:{id:"修改dovecot配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改dovecot配置"}},[s._v("#")]),s._v(" 修改"),t("code",[s._v("Dovecot")]),s._v("配置")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/dovecot/dovecot.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-vim line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-vim"}},[t("code",[s._v("auth_mechanisms "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" plain login\nbase_dir "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("run"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dovecot"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\ndebug_log_path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dovecot_debug"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("log\ndisable_plaintext_auth "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" no\nfirst_valid_uid "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\ninfo_log_path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dovecot_info"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("log\nlogin_trusted_networks "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nmail_location "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mbox"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("~"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("INBOX"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mail"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("u")]),s._v("\nmbox_write_locks "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fcntl\nnamespace inbox "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  inbox "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" yes\n  location "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mbox"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("~"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("INBOX"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mail"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("u")]),s._v("\n  mailbox Drafts "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    special_use "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" \\Drafts\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  mailbox Junk "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    special_use "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" \\Junk\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  mailbox Sent "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    special_use "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" \\Sent\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  mailbox "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Sent Messages"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    special_use "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" \\Sent\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  mailbox Trash "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    special_use "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" \\Trash\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  prefix "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\npassdb "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("args")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" dovecot\n  driver "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pam\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nservice auth "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  unix_listener "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("spool"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("postfix"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("private"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("auth "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mode")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0666")]),s._v("\n    user "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" postfix\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  unix_listener auth"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("userdb "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    group "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" noreply\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mode")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0666")]),s._v("\n    user "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" noreply\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nservice imap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("login "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("inet_listener imap "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    port "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("143")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nservice pop3"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("login "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  inet_listener pop3 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    port "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("ssl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" no\nssl_cert "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("pki"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dovecot"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("certs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dovecot"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("pem\nssl_key "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("pki"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dovecot"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("private"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dovecot"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("pem\nuserdb "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  driver "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" passwd\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br")])]),t("blockquote",[t("p",[s._v("其实上面的配置文件并非一个，而是修改了"),t("code",[s._v("/etc/dovecot/conf.d")]),s._v("文件夹下的以下几个文件")]),s._v(" "),t("blockquote",[t("p",[t("code",[s._v("10-auth.conf")])]),s._v(" "),t("p",[t("code",[s._v("10-ssl.conf")])]),s._v(" "),t("p",[t("code",[s._v("10-mail.conf")])]),s._v(" "),t("p",[t("code",[s._v("10-master.conf")])]),s._v(" "),t("p",[t("code",[s._v("10-logging.conf")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("修改完成以后使用"),t("code",[s._v("doveconf -n > dovecot-new.conf")]),s._v("命令生成一个全新的综合的配置文件。")])]),s._v(" "),t("h3",{attrs:{id:"修改防火墙配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改防火墙配置"}},[s._v("#")]),s._v(" 修改防火墙配置")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("firewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --permanent --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("imap\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --permanent --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("smtp\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --permanent --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("pop3\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("/tcp --permanent\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("/udp --permanent\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v("/tcp --permanent\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v("/udp --permanent\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("143")]),s._v("/tcp --permanent\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("143")]),s._v("/udp --permanent\nfirewall-cmd --reload\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"配置用户及权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置用户及权限"}},[s._v("#")]),s._v(" 配置用户及权限")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" 用户名\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"密码"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" --stdin 用户名\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 授权")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" 0775 /var/spool/mail/*\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"启动服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动服务"}},[s._v("#")]),s._v(" 启动服务")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启postfix服务")]),s._v("\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" postfix\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置postfix开机启动")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" postfix on\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启dovecot服务")]),s._v("\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" dovecot\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置dovecot开机启动")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" dovecot on\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启postfix/dovecot")]),s._v("\nsystemctl restart postfix/dovecot\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看postfix/dovecot状态")]),s._v("\nsystemctl status postfix/dovecot\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h3",{attrs:{id:"使用mail测试发信"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用mail测试发信"}},[s._v("#")]),s._v(" 使用"),t("code",[s._v("mail")]),s._v("测试发信")]),s._v(" "),t("blockquote",[t("p",[s._v("未做明确配置时，"),t("code",[s._v("mail")]),s._v("默认将本机作为发信、收信的服务器，所以此步骤中的测试操作在邮件服务器本机完成。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"邮件内容"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mail -s "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"邮件主题"')]),s._v(" -r 发送人邮件地址 接收人邮件地址\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"使用telnet测试收信"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用telnet测试收信"}},[s._v("#")]),s._v(" 使用"),t("code",[s._v("telnet")]),s._v("测试收信")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y telnet\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("telnet 域名 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);