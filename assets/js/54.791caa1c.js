(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{399:function(s,a,e){"use strict";e.r(a);var t=e(43),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"centos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos"}},[s._v("#")]),s._v(" CentOS")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E5%8D%B8%E8%BD%BD%E8%BD%AF%E4%BB%B6"}},[s._v("卸载软件")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#rpm%E5%AE%89%E8%A3%85"}},[s._v("RPM安装")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#yum%E5%AE%89%E8%A3%85"}},[s._v("yum安装")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85"}},[s._v("源码编译安装")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E5%A6%82%E6%9E%9C%E6%BA%90%E7%A0%81%E8%A2%AB%E5%88%A0%E9%99%A4%E5%B0%B1%E6%9F%A5%E6%89%BE%E5%B9%B6%E5%88%A0%E9%99%A4"}},[s._v("如果源码被删除就查找并删除")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#checkinstall"}},[e("code",[s._v("checkinstall")])]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E4%BD%BF%E7%94%A8checkinstall%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85"}},[s._v("使用"),e("code",[s._v("checkinstall")]),s._v("编译安装")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E5%8D%B8%E8%BD%BDcheckinstall%E5%AE%89%E8%A3%85%E7%9A%84%E8%BD%AF%E4%BB%B6"}},[s._v("卸载"),e("code",[s._v("checkinstall")]),s._v("安装的软件")])])])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E5%88%9D%E6%AC%A1%E9%85%8D%E7%BD%AE"}},[s._v("初次配置")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E4%BF%AE%E6%94%B9%E6%97%B6%E5%8C%BA%E4%B8%BA%E4%BA%9A%E6%B4%B2%E4%B8%8A%E6%B5%B7"}},[s._v("修改时区为亚洲上海")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E8%AF%AD%E8%A8%80"}},[s._v("查看系统语言")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E5%AE%89%E8%A3%85%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%E8%AF%AD%E8%A8%80%E5%8C%85"}},[s._v("安装简体中文语言包")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E8%AE%BE%E7%BD%AE%E4%B8%AD%E6%96%87utf8%E7%BC%96%E7%A0%81"}},[s._v("设置中文utf8编码")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E4%B8%B4%E6%97%B6"}},[s._v("临时")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E9%95%BF%E4%B9%85"}},[s._v("长久")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E8%AE%BE%E7%BD%AEvi%E6%98%BE%E7%A4%BA%E8%A1%8C%E5%8F%B7"}},[s._v("设置vi显示行号")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E7%BC%96%E8%BE%91%E4%BB%A5%E4%B8%8B%E4%B8%A4%E4%B8%AA%E6%96%87%E4%BB%B6"}},[s._v("编辑以下两个文件")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E5%9C%A8%E5%BC%80%E5%A4%B4%E6%88%96%E8%80%85%E6%9C%AB%E5%B0%BE%E6%B7%BB%E5%8A%A0"}},[s._v("在开头或者末尾添加")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%AC%A2%E8%BF%8E%E4%BF%A1%E6%81%AF"}},[s._v("欢迎信息")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#profile%E6%96%87%E4%BB%B6"}},[e("code",[s._v("profile")]),s._v("文件")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#ssh%E6%AC%A2%E8%BF%8E%E4%BF%A1%E6%81%AF"}},[s._v("ssh欢迎信息")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#yum%E6%93%8D%E4%BD%9C"}},[e("code",[s._v("yum")]),s._v("操作")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E5%AE%89%E8%A3%85epel%E6%BA%90"}},[s._v("安装"),e("code",[s._v("EPEL")]),s._v("源")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9B%B4%E6%96%B0yum%E6%BA%90%E5%8C%85"}},[s._v("更新yum源包")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E5%AE%89%E8%A3%85%E5%BF%85%E8%A6%81%E8%BD%AF%E4%BB%B6"}},[s._v("安装必要软件")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7"}},[s._v("三方工具")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#figlet"}},[e("code",[s._v("figlet")])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#boxes"}},[e("code",[s._v("boxes")])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#toilet"}},[e("code",[s._v("Toilet")])])])])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#systemctl"}},[e("code",[s._v("systemctl")])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#firewalld"}},[e("code",[s._v("firewalld")])]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E5%BC%80%E5%90%AF%E7%AB%AF%E5%8F%A3"}},[s._v("开启端口")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E9%85%8D%E7%BD%AEfirewalld-cmd"}},[s._v("配置"),e("code",[s._v("firewalld-cmd")])])])])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#rpm"}},[s._v("rpm")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E6%9F%A5%E8%AF%A2%E5%B7%B2%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85%E4%BF%A1%E6%81%AF"}},[s._v("查询已安装软件包信息")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9F%A5%E8%AF%A2%E5%B7%B2%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85%E5%AE%89%E8%A3%85%E4%BD%8D%E7%BD%AE"}},[s._v("查询已安装软件包安装位置")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E5%B7%B2%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E4%BE%9D%E8%B5%96"}},[s._v("查看已安装软件依赖")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E5%B7%B2%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"}},[s._v("查看已安装软件的配置文件")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9F%A5%E8%AF%A2%E5%B7%B2%E7%BB%8F%E5%AE%89%E8%A3%85%E6%96%87%E4%BB%B6%E6%89%80%E5%B1%9E%E8%BD%AF%E4%BB%B6%E5%8C%85"}},[s._v("查询已经安装文件所属软件包")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85%E6%95%B0%E9%87%8F"}},[s._v("安装软件包数量")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E5%86%85%E6%A0%B8%E5%8D%87%E7%BA%A7"}},[s._v("内核升级")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85"}},[s._v("手动安装")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC"}},[s._v("一键安装脚本")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#centos%E5%AE%89%E8%A3%85%E6%96%B0%E7%89%88%E5%86%85%E6%A0%B8headers"}},[s._v("CentOS安装新版内核"),e("code",[s._v("headers")])]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E5%8D%B8%E8%BD%BD%E5%8E%9F%E7%89%88%E5%86%85%E6%A0%B8headers"}},[s._v("卸载原版内核"),e("code",[s._v("headers")])])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E5%86%85%E6%A0%B8%E5%8D%87%E7%BA%A7%E6%96%B9%E6%B3%95"}},[s._v("内核升级方法")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#shadowsocks"}},[s._v("shadowsocks")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#v2ray"}},[s._v("v2ray")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#pac"}},[s._v("PAC")])])]),s._v(" "),e("h2",{attrs:{id:"卸载软件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#卸载软件"}},[s._v("#")]),s._v(" 卸载软件")]),s._v(" "),e("h3",{attrs:{id:"rpm安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rpm安装"}},[s._v("#")]),s._v(" RPM安装")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" 软件名称\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -e --nodeps 列出的软件全名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"yum安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yum安装"}},[s._v("#")]),s._v(" yum安装")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum remove 软件名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"源码编译安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#源码编译安装"}},[s._v("#")]),s._v(" 源码编译安装")]),s._v(" "),e("blockquote",[e("p",[s._v("编译时的路径如果指定了"),e("code",[s._v("--prefix /usr/local/xxx")]),s._v(" 直接"),e("code",[s._v("rm -rf /usr/local/xxx")]),s._v("即可。")]),s._v(" "),e("p",[s._v("没指定路径，那就到源码路径执行make uninstall，如果最初的编译文件夹被删除了，还可以重新下载、编译，然后删除")])]),s._v(" "),e("h4",{attrs:{id:"如果源码被删除就查找并删除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如果源码被删除就查找并删除"}},[s._v("#")]),s._v(" 如果源码被删除就查找并删除")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" / -name 软件名称\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"checkinstall"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#checkinstall"}},[s._v("#")]),s._v(" "),e("code",[s._v("checkinstall")])]),s._v(" "),e("blockquote",[e("p",[s._v("通过"),e("code",[s._v("checkinstall")]),s._v("管理编译安装过程")])]),s._v(" "),e("h4",{attrs:{id:"使用checkinstall编译安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用checkinstall编译安装"}},[s._v("#")]),s._v(" 使用"),e("code",[s._v("checkinstall")]),s._v("编译安装")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("./configure\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\ncheckinstall\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[s._v("CheckInstall会完成以下任务")])]),s._v(" "),e("blockquote",[e("p",[s._v("调用"),e("code",[s._v("make install")]),s._v("，然后用"),e("code",[s._v("installwatch")]),s._v("监视、记录整个安装过程中添加的文件")])]),s._v(" "),e("blockquote",[e("p",[s._v("等到安装完成，把记录的文件打包，根据不同的系统创建安装包："),e("code",[s._v(".rpm")]),s._v("或"),e("code",[s._v(".deb")])])]),s._v(" "),e("blockquote",[e("p",[s._v("注：安装包会保存在源代码目录，以便复制到其它机器安装，省去重复编译的麻烦。")])]),s._v(" "),e("blockquote",[e("p",[s._v("移除"),e("code",[s._v("make install")]),s._v("安装的文件")])]),s._v(" "),e("blockquote",[e("p",[s._v("调用系统安装工具来安装第2步创建的安装包："),e("code",[s._v("rpm -i")]),s._v("或"),e("code",[s._v("dpkg -i")])])]),s._v(" "),e("h4",{attrs:{id:"卸载checkinstall安装的软件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#卸载checkinstall安装的软件"}},[s._v("#")]),s._v(" 卸载"),e("code",[s._v("checkinstall")]),s._v("安装的软件")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("CentOS: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -e package_name\nUbuntu: dpkg -r package_name\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"初次配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#初次配置"}},[s._v("#")]),s._v(" 初次配置")]),s._v(" "),e("h3",{attrs:{id:"修改时区为亚洲上海"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改时区为亚洲上海"}},[s._v("#")]),s._v(" 修改时区为亚洲上海")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"查看系统语言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看系统语言"}},[s._v("#")]),s._v(" 查看系统语言")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看系统当前使用语言包")]),s._v("\nlocale\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看系统拥有语言包")]),s._v("\nlocale -a\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"安装简体中文语言包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装简体中文语言包"}},[s._v("#")]),s._v(" 安装简体中文语言包")]),s._v(" "),e("blockquote",[e("p",[s._v("如果没有zh_CN.utf8就需要安装简体中文语言包")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kde-l10n-Chinese\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#glibc-common软件包包括用于GNU libc库的常见二进制文件，以及国家语言（locale）支持。")]),s._v("\nyum -y reinstall glibc-common\nyum -y groupinstall chinese-support\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"设置中文utf8编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置中文utf8编码"}},[s._v("#")]),s._v(" 设置中文utf8编码")]),s._v(" "),e("h4",{attrs:{id:"临时"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#临时"}},[s._v("#")]),s._v(" 临时")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zh_CN.utf8\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"长久"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#长久"}},[s._v("#")]),s._v(" 长久")]),s._v(" "),e("blockquote",[e("p",[s._v("CenOS7修改"),e("code",[s._v("vi /etc/locale.conf")]),s._v("文件")]),s._v(" "),e("p",[s._v("CentOS6修改"),e("code",[s._v("vi /etc/sysconfig/i18n")]),s._v("文件")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zh_CN.utf8"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANGUAGE")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zh_CN.UTF-8:zh_CN.utf8:zh_CN"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SUPPORTED")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zh_CN.utf8:zh_CN:zh:en_US.utf8:en_US:en"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SYSFONT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lat0-sun16"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("localectl  set-locale "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zh_CN.utf8\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"设置vi显示行号"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置vi显示行号"}},[s._v("#")]),s._v(" 设置vi显示行号")]),s._v(" "),e("h4",{attrs:{id:"编辑以下两个文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编辑以下两个文件"}},[s._v("#")]),s._v(" 编辑以下两个文件")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/vimrc\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/virc\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"在开头或者末尾添加"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在开头或者末尾添加"}},[s._v("#")]),s._v(" 在开头或者末尾添加")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" number\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"欢迎信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#欢迎信息"}},[s._v("#")]),s._v(" 欢迎信息")]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("vi /etc/motd")]),s._v("这个文件，可以在里面加入自己喜欢的任何欢迎信息，这段信息将会在登录成功后显示！")])]),s._v(" "),e("h3",{attrs:{id:"profile文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#profile文件"}},[s._v("#")]),s._v(" "),e("code",[s._v("profile")]),s._v("文件")]),s._v(" "),e("blockquote",[e("p",[s._v("为每一个运行bash shell的用户执行此文件.当bash shell被打开时,\n该文件被读取（即每次新开一个终端，都会执行bashrc）。")]),s._v(" "),e("p",[s._v("只要在同一个shell界面，不管多少用户登录都只执行一次")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/profile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("此文件为系统的每个用户设置环境信息,当用户第一次登录时,该文件被执行.\n并从"),e("code",[s._v("/etc/profile.d")]),s._v("目录的配置文件中搜集shell的设置。")]),s._v(" "),e("p",[s._v("如果进入shell用普通用户登录后，再用su进入root用户那么将会被执行两次")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/bashrc\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("当root用户登录时执行")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /root/.bash_profile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("当每次root用户退出系统(退出bash shell)时,执行该文件")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /root/.bash_logout\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("当root用户登录时以及每次打开新的shell时,该该文件被读取。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /root/.bashrc\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[e("code",[s._v("/etc/profile")]),s._v("中设定的变量(全局)的可以作用于任何用户,\n"),e("code",[s._v("/.bashrc")]),s._v("设定的变量(局部)只能继承"),e("code",[s._v("/etc/profile")]),s._v("中的变量,他们是”父子”关系")])]),s._v(" "),e("h3",{attrs:{id:"ssh欢迎信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssh欢迎信息"}},[s._v("#")]),s._v(" ssh欢迎信息")]),s._v(" "),e("blockquote",[e("p",[s._v("输入"),e("code",[s._v("shift + g")]),s._v("（就是大写的G）跳转到末尾添加以下内容")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'=========================================================='")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询系统版本")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/redhat-release\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询内核版本")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -sr\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'=========================================================='")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询目前所有文件系统的可用空间及使用情形")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" -h\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'=========================================================='")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询内存使用情况")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" -h\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'=========================================================='")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到home文件夹")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("h2",{attrs:{id:"yum操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yum操作"}},[s._v("#")]),s._v(" "),e("code",[s._v("yum")]),s._v("操作")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" 包名（支持*） ：自动选择y，全自动\n\nyum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" 包名（支持*） ：手动选择y or n\n\nyum remove 包名（不支持*）\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh 包名（支持*）：安装rpm包\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -e 包名（不支持*）：卸载rpm包\n\nyum info nginx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("查看当前版本可选"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nyum list installed "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" 包名（不支持*）：确认是否安装过包\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("h3",{attrs:{id:"安装epel源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装epel源"}},[s._v("#")]),s._v(" 安装"),e("code",[s._v("EPEL")]),s._v("源")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" epel-release \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"更新yum源包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新yum源包"}},[s._v("#")]),s._v(" 更新yum源包")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y update\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"安装必要软件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装必要软件"}},[s._v("#")]),s._v(" 安装必要软件")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" gcc-c++ pcre pcre-devel zlib zlib-devel openssl openssl-devel lrzsz lrzsz-devel p7zip p7zip-devel net-tools net-tools-devel "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" vim-devel libaio libaio-devel\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"三方工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三方工具"}},[s._v("#")]),s._v(" 三方工具")]),s._v(" "),e("h4",{attrs:{id:"figlet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#figlet"}},[s._v("#")]),s._v(" "),e("code",[s._v("figlet")])]),s._v(" "),e("blockquote",[e("p",[s._v("Linux下的命令行工具，我们经常会看到一些终端工具有一个字符Logo,这些Logo可以通过"),e("code",[s._v("Figlet")]),s._v("生成：")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y figlet\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("居中显示用 "),e("code",[s._v("-c")])]),s._v(" "),e("p",[s._v("从文件导入用 "),e("code",[s._v("-p")])]),s._v(" "),e("blockquote",[e("p",[s._v("比如从testFile导入"),e("code",[s._v("figlet -c -p < testFile")])])]),s._v(" "),e("p",[s._v("还可以用"),e("code",[s._v("-w")]),s._v("指定宽度。")]),s._v(" "),e("p",[s._v("实时显示时间"),e("code",[s._v("watch -n1 \"date '+%D%n%T' |figlet -k\"")])])]),s._v(" "),e("h4",{attrs:{id:"boxes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#boxes"}},[s._v("#")]),s._v(" "),e("code",[s._v("boxes")])]),s._v(" "),e("blockquote",[e("p",[s._v("这个工具提供了 n 种样式，例如各种动物等，然后你输入的字符就放在这些图案的内部空白处。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" boxes\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("使用boxes -l列出所有的样式。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("text"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" boxes -d "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("style name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 比如dog")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" boxes -d dog\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"toilet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#toilet"}},[s._v("#")]),s._v(" "),e("code",[s._v("Toilet")])]),s._v(" "),e("blockquote",[e("p",[s._v("可以输出更丰富的样式，它比 "),e("code",[s._v("figlet")]),s._v(" 命令的效果更有艺术感。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" toilet -f term -F border --gay\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以有颜色")]),s._v("\ntoilet -f mono12 -F metal Linux\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 多种样式")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'+%D %T'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" toilet -f term -F border --gay"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h2",{attrs:{id:"systemctl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#systemctl"}},[s._v("#")]),s._v(" "),e("code",[s._v("systemctl")])]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("systemctl")]),s._v("是"),e("code",[s._v("CentOS7")]),s._v("的服务管理工具中主要的工具，它融合之前"),e("code",[s._v("service")]),s._v("和"),e("code",[s._v("chkconfig")]),s._v("的功能于一体。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动一个服务")]),s._v("\nsystemctl start firewalld.service\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭一个服务")]),s._v("\nsystemctl stop firewalld.service\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启一个服务")]),s._v("\nsystemctl restart firewalld.service\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示一个服务的状态")]),s._v("\nsystemctl status firewalld.service\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在开机时启用一个服务")]),s._v("\nsystemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" firewalld.service\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在开机时禁用一个服务")]),s._v("\nsystemctl disable firewalld.service\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看服务是否开机启动")]),s._v("\nsystemctl is-enabled firewalld.service\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已启动的服务列表")]),s._v("\nsystemctl list-unit-files"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" enabled\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看启动失败的服务列表")]),s._v("\nsystemctl --failed\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br")])]),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看mysql是否自启动")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" --list "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysqld\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置开启自启动")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" mysqld on\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h2",{attrs:{id:"firewalld"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#firewalld"}},[s._v("#")]),s._v(" "),e("code",[s._v("firewalld")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看firewalld状态，发现当前是dead状态，即防火墙未开启。")]),s._v("\nsystemctl status firewalld\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启防火墙，没有任何提示即开启成功。")]),s._v("\nsystemctl start firewalld\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已开放的端口(默认不开放任何端口)")]),s._v("\nfirewall-cmd --list-ports\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启防火墙")]),s._v("\nfirewall-cmd --reload\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止防火墙")]),s._v("\nsystemctl stop firewalld.service\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 禁止防火墙开机启动")]),s._v("\nsystemctl disable firewalld.service\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除端口")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" public --remove-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp --permanent\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br")])]),e("h3",{attrs:{id:"开启端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开启端口"}},[s._v("#")]),s._v(" 开启端口")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启80端口")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp --permanent\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启8080-8089的IP端")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("-8089/tcp --permanent\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启3306端口")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("/tcp --permanent\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("ul",[e("li",[s._v("命令含义")])]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("--zone")]),s._v(" 作用域")])]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("--add-port=80/tcp")]),s._v(" 添加端口，格式为：端口/通讯协议")])]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("--permanent")]),s._v(" 永久生效，没有此参数重启后失效")])]),s._v(" "),e("h4",{attrs:{id:"配置firewalld-cmd"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置firewalld-cmd"}},[s._v("#")]),s._v(" 配置"),e("code",[s._v("firewalld-cmd")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看版本")]),s._v("\nfirewall-cmd --version\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看帮助")]),s._v("\nfirewall-cmd --help\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示状态")]),s._v("\nfirewall-cmd --state\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有打开的端口")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --list-ports\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新防火墙规则")]),s._v("\nfirewall-cmd --reload\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看区域信息")]),s._v("\nfirewall-cmd --get-active-zones\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看指定接口所属区域")]),s._v("\nfirewall-cmd --get-zone-of-interface"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eth0\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拒绝所有包")]),s._v("\nfirewall-cmd --panic-on\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消拒绝状态")]),s._v("\nfirewall-cmd --panic-off\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看是否拒绝")]),s._v("\nfirewall-cmd --query-panic\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br")])]),e("h2",{attrs:{id:"rpm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rpm"}},[s._v("#")]),s._v(" rpm")]),s._v(" "),e("h3",{attrs:{id:"查询已安装软件包信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询已安装软件包信息"}},[s._v("#")]),s._v(" 查询已安装软件包信息")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qi 软件名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"查询已安装软件包安装位置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询已安装软件包安装位置"}},[s._v("#")]),s._v(" 查询已安装软件包安装位置")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ql 软件名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"查看已安装软件依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看已安装软件依赖"}},[s._v("#")]),s._v(" 查看已安装软件依赖")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qR 软件名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"查看已安装软件的配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看已安装软件的配置文件"}},[s._v("#")]),s._v(" 查看已安装软件的配置文件")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qc 软件名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"查询已经安装文件所属软件包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询已经安装文件所属软件包"}},[s._v("#")]),s._v(" 查询已经安装文件所属软件包")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qf 文件名的绝对路径\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"安装软件包数量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装软件包数量"}},[s._v("#")]),s._v(" 安装软件包数量")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"内核升级"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内核升级"}},[s._v("#")]),s._v(" 内核升级")]),s._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://github.com/nanqinlang-tcp/tcp_nanqinlang-test",target:"_blank",rel:"noopener noreferrer"}},[s._v("OpenVZ魔改BBR的一键安装脚本"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/tcp-nanqinlang/wiki/wiki/lkl-haproxy",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装命令参考"),e("OutboundLink")],1)])])]),s._v(" "),e("h3",{attrs:{id:"手动安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#手动安装"}},[s._v("#")]),s._v(" 手动安装")]),s._v(" "),e("ul",[e("li",[s._v("检查当前CentOS系统版本")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/redhat-release\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("检查当前CentOS系统内核版本")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -sr\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("运行yum命令升级")])]),s._v(" "),e("blockquote",[e("p",[s._v("CentOS中update命令可以一次性更新所有软件(包括系统版本)到最新版本。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先清除所有")]),s._v("\nyum clean all\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再升级")]),s._v("\nyum update -y\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 升级内核")]),s._v("\nyum update kernel  -y\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("ul",[e("li",[s._v("在"),e("code",[s._v("CentOS7.x")]),s._v("上启用"),e("code",[s._v("ELRepo")]),s._v("仓库")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 首先导入elrepo的key")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装elrepo的yum")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("ul",[e("li",[s._v("查看内核相关包")])]),s._v(" "),e("blockquote",[e("p",[s._v("仓库启用后，你可以使用下面的命令列出可用的系统内核相关包，查看内核相关包")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum --disablerepo"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*"')]),s._v(" --enablerepo"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"elrepo-kernel"')]),s._v(" list available\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("安装最新的主线稳定内核")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y --enablerepo"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("elrepo-kernel "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kernel-ml\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者以下命令安装最新的主线稳定内核")]),s._v("\nyum -y --enablerepo"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("elrepo-kernel "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kernel-ml.x86_64 kernel-ml-devel.x86_64\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[s._v("查看可用内核")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /boot/grub2/grub.cfg "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" menuentry \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("设置内核启动项")])]),s._v(" "),e("blockquote",[e("p",[s._v("替换刚刚查看出来的内核名字执行，比如："),e("code",[s._v("grub2-set-default 'CentOS Linux (4.15.13-1.el7.elrepo.x86_64) 7 (Core)'")])]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("grub2-set-default '内核名字'")])])])]),s._v(" "),e("ul",[e("li",[s._v("查看内核启动项是否设置成功")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("grub2-editenv list\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("重启")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("检查当前CentOS系统内核版本")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -sr\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("查看多余的内核")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" kernel\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("删除多余的内核")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum remove 内核名字\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"一键安装脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一键安装脚本"}},[s._v("#")]),s._v(" 一键安装脚本")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/teddysun/across",target:"_blank",rel:"noopener noreferrer"}},[s._v("秋水逸冰"),e("OutboundLink")],1)])]),s._v(" "),e("ul",[e("li",[s._v("下载并执行脚本")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x bbr.sh "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" ./bbr.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("安装完成后，脚本会提示需要重启 VPS，输入"),e("code",[s._v("y")]),s._v("并回车后重启。")])]),s._v(" "),e("ul",[e("li",[s._v("查看内核版本")])]),s._v(" "),e("blockquote",[e("p",[s._v("显示为最新版就表示OK了")]),s._v(" "),e("p",[s._v("重启完成后，进入VPS，验证一下是否成功安装最新内核并开启"),e("code",[s._v("TCP BBR")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -r\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("sysctl net.ipv4.tcp_available_congestion_control\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("返回值一般为"),e("code",[s._v("net.ipv4.tcp_available_congestion_control = bbr cubic reno")])])]),s._v(" "),e("blockquote",[e("p",[s._v("或者为："),e("code",[s._v("net.ipv4.tcp_available_congestion_control = reno cubic bbr")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("sysctl net.ipv4.tcp_congestion_control\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("返回值一般为 "),e("code",[s._v("net.ipv4.tcp_congestion_control = bbr")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("sysctl net.core.default_qdisc\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("返回值一般为 "),e("code",[s._v("net.core.default_qdisc = fq")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("lsmod "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" bbr\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("返回值有"),e("code",[s._v("tcp_bbr")]),s._v("模块即说明"),e("code",[s._v("bbr")]),s._v("已启动。")])]),s._v(" "),e("blockquote",[e("p",[s._v("注意：并不是所有的都会有此返回值，若没有也属正常。")])]),s._v(" "),e("h3",{attrs:{id:"centos安装新版内核headers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos安装新版内核headers"}},[s._v("#")]),s._v(" CentOS安装新版内核"),e("code",[s._v("headers")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum --enablerepo"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("elrepo-kernel -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kernel-ml-headers\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("根据"),e("code",[s._v("CentOS")]),s._v("版本的不同，此时一般会出现类似于以下的错误提示：")])]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("Error: kernel-ml-headers conflicts with kernel-headers-2.6.32-696.20.1.el6.x86_64")])])]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("Error: kernel-ml-headers conflicts with kernel-headers-3.10.0-693.17.1.el7.x86_64")])])]),s._v(" "),e("h4",{attrs:{id:"卸载原版内核headers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#卸载原版内核headers"}},[s._v("#")]),s._v(" 卸载原版内核"),e("code",[s._v("headers")])]),s._v(" "),e("blockquote",[e("p",[s._v("需要先卸载原版内核"),e("code",[s._v("headers")]),s._v("，然后再安装最新版内核"),e("code",[s._v("headers")]),s._v("。")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum remove kernel-headers -y\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("注意：有时候这么操作还会卸载一些对内核 headers 依赖的安装包，比如 gcc、gcc-c++ 之类的。\n不过不要紧，我们可以在安装完最新版内核 headers 后再重新安装回来即可。")])]),s._v(" "),e("h3",{attrs:{id:"内核升级方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内核升级方法"}},[s._v("#")]),s._v(" 内核升级方法")]),s._v(" "),e("ul",[e("li",[s._v("CentOS系统升级内核")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kernel-ml kernel-ml-devel\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("升级"),e("code",[s._v("headers")])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kernel-ml-headers\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("执行命令")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("grub2-set-default "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("最后，重启VPS即可。")])]),s._v(" "),e("h2",{attrs:{id:"shadowsocks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shadowsocks"}},[s._v("#")]),s._v(" shadowsocks")]),s._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://github.com/shadowsocks/shadowsocks-windows/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("shadowsocks-windows"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/shadowsocks/shadowsocks-android/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("shadowsocks-android"),e("OutboundLink")],1)])])]),s._v(" "),e("h2",{attrs:{id:"v2ray"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2ray"}},[s._v("#")]),s._v(" v2ray")]),s._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://www.v2ray.com/awesome/tools.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("v2ray-tools"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/v2ray/v2ray-core/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("v2ray-core"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/2dust/v2rayNG/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("v2rayNG-android"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/2dust/v2rayN/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("v2rayN-Windows"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/Cenmrev/V2RayW/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("V2RayW-Windows"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://yuan.ga/v2ray-complete-tutorial/",target:"_blank",rel:"noopener noreferrer"}},[s._v("v2ray教程"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/Jrohy/multi-v2ray",target:"_blank",rel:"noopener noreferrer"}},[s._v("multi-v2ray"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/wulabing/V2Ray_ws-tls_bash_onekey",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/wulabing/V2Ray_ws-tls_bash_onekey"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/ssrsub/ssr/tree/master",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/ssrsub/ssr/tree/master"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://www.ssrtool.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.ssrtool.com"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/xiaotianwl/v2ray_vps/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/xiaotianwl/v2ray_vps/"),e("OutboundLink")],1)])])]),s._v(" "),e("h2",{attrs:{id:"pac"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pac"}},[s._v("#")]),s._v(" PAC")]),s._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://github.com/lbp0200/mono_pac",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/lbp0200/mono_pac"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/other/pac.txt",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/other/pac.txt"),e("OutboundLink")],1)])])])])}),[],!1,null,null,null);a.default=n.exports}}]);