<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux操作 | IMBAPUB</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="这真的很imba">
    <link rel="preload" href="/assets/css/0.styles.471cf497.css" as="style"><link rel="preload" href="/assets/js/app.c2625d5e.js" as="script"><link rel="preload" href="/assets/js/2.3a46498f.js" as="script"><link rel="preload" href="/assets/js/57.e0e55bd4.js" as="script"><link rel="prefetch" href="/assets/js/10.2018e9fd.js"><link rel="prefetch" href="/assets/js/100.2b4f1706.js"><link rel="prefetch" href="/assets/js/101.4e2ee47c.js"><link rel="prefetch" href="/assets/js/102.a30f6619.js"><link rel="prefetch" href="/assets/js/103.009c7e6e.js"><link rel="prefetch" href="/assets/js/104.93b9bc4e.js"><link rel="prefetch" href="/assets/js/105.ce02a061.js"><link rel="prefetch" href="/assets/js/106.829b94f8.js"><link rel="prefetch" href="/assets/js/107.36c4f04c.js"><link rel="prefetch" href="/assets/js/108.36b6dcb7.js"><link rel="prefetch" href="/assets/js/109.037bb113.js"><link rel="prefetch" href="/assets/js/11.823d6f8d.js"><link rel="prefetch" href="/assets/js/110.65e37569.js"><link rel="prefetch" href="/assets/js/111.6f27cd54.js"><link rel="prefetch" href="/assets/js/112.56d99c63.js"><link rel="prefetch" href="/assets/js/113.4d67ef64.js"><link rel="prefetch" href="/assets/js/114.34a6aece.js"><link rel="prefetch" href="/assets/js/115.666c7083.js"><link rel="prefetch" href="/assets/js/116.bc4dcb5a.js"><link rel="prefetch" href="/assets/js/117.4b4c61a2.js"><link rel="prefetch" href="/assets/js/118.39f1a48f.js"><link rel="prefetch" href="/assets/js/119.43afcb26.js"><link rel="prefetch" href="/assets/js/12.ef380254.js"><link rel="prefetch" href="/assets/js/120.e03e4153.js"><link rel="prefetch" href="/assets/js/121.420691b9.js"><link rel="prefetch" href="/assets/js/122.970c8e3c.js"><link rel="prefetch" href="/assets/js/13.697ff2be.js"><link rel="prefetch" href="/assets/js/14.d9443a9c.js"><link rel="prefetch" href="/assets/js/15.ed70dfb0.js"><link rel="prefetch" href="/assets/js/16.77e1e60d.js"><link rel="prefetch" href="/assets/js/17.6eced122.js"><link rel="prefetch" href="/assets/js/18.5af74e2c.js"><link rel="prefetch" href="/assets/js/19.150015fd.js"><link rel="prefetch" href="/assets/js/20.a1dd4619.js"><link rel="prefetch" href="/assets/js/21.d67b98a9.js"><link rel="prefetch" href="/assets/js/22.c9d1bbd2.js"><link rel="prefetch" href="/assets/js/23.4176bb24.js"><link rel="prefetch" href="/assets/js/24.b7f8575c.js"><link rel="prefetch" href="/assets/js/25.d78b5608.js"><link rel="prefetch" href="/assets/js/26.309cbfe1.js"><link rel="prefetch" href="/assets/js/27.9489af17.js"><link rel="prefetch" href="/assets/js/28.9cca7ff8.js"><link rel="prefetch" href="/assets/js/29.c6f85384.js"><link rel="prefetch" href="/assets/js/3.49eb4b3d.js"><link rel="prefetch" href="/assets/js/30.19535190.js"><link rel="prefetch" href="/assets/js/31.34fd8625.js"><link rel="prefetch" href="/assets/js/32.db16b5a4.js"><link rel="prefetch" href="/assets/js/33.5dcf2cd4.js"><link rel="prefetch" href="/assets/js/34.442a8be3.js"><link rel="prefetch" href="/assets/js/35.42205d2e.js"><link rel="prefetch" href="/assets/js/36.4183f0df.js"><link rel="prefetch" href="/assets/js/37.edbadce4.js"><link rel="prefetch" href="/assets/js/38.08f14a56.js"><link rel="prefetch" href="/assets/js/39.831ae06e.js"><link rel="prefetch" href="/assets/js/4.606cd99c.js"><link rel="prefetch" href="/assets/js/40.e6a0cd9e.js"><link rel="prefetch" href="/assets/js/41.59c89272.js"><link rel="prefetch" href="/assets/js/42.b20e4ea2.js"><link rel="prefetch" href="/assets/js/43.d9e31f0d.js"><link rel="prefetch" href="/assets/js/44.c26e40da.js"><link rel="prefetch" href="/assets/js/45.cd6d611a.js"><link rel="prefetch" href="/assets/js/46.0abb047f.js"><link rel="prefetch" href="/assets/js/47.b6b28c06.js"><link rel="prefetch" href="/assets/js/48.4bd49e90.js"><link rel="prefetch" href="/assets/js/49.3820ae7c.js"><link rel="prefetch" href="/assets/js/5.09079429.js"><link rel="prefetch" href="/assets/js/50.e5e8b53c.js"><link rel="prefetch" href="/assets/js/51.6d41569c.js"><link rel="prefetch" href="/assets/js/52.9f684a44.js"><link rel="prefetch" href="/assets/js/53.1fb124a5.js"><link rel="prefetch" href="/assets/js/54.94191d1f.js"><link rel="prefetch" href="/assets/js/55.8f63ccfb.js"><link rel="prefetch" href="/assets/js/56.7f2ef3fa.js"><link rel="prefetch" href="/assets/js/58.dcbb8281.js"><link rel="prefetch" href="/assets/js/59.02eff4ca.js"><link rel="prefetch" href="/assets/js/6.3c4b6517.js"><link rel="prefetch" href="/assets/js/60.47f5455b.js"><link rel="prefetch" href="/assets/js/61.55dccf8c.js"><link rel="prefetch" href="/assets/js/62.25c52188.js"><link rel="prefetch" href="/assets/js/63.3584d76c.js"><link rel="prefetch" href="/assets/js/64.490d018b.js"><link rel="prefetch" href="/assets/js/65.e5e6c765.js"><link rel="prefetch" href="/assets/js/66.9718a4fe.js"><link rel="prefetch" href="/assets/js/67.29af663e.js"><link rel="prefetch" href="/assets/js/68.51122fa7.js"><link rel="prefetch" href="/assets/js/69.f16d243b.js"><link rel="prefetch" href="/assets/js/7.5dcc397c.js"><link rel="prefetch" href="/assets/js/70.39a7658f.js"><link rel="prefetch" href="/assets/js/71.2eae8541.js"><link rel="prefetch" href="/assets/js/72.f6226007.js"><link rel="prefetch" href="/assets/js/73.4004e54a.js"><link rel="prefetch" href="/assets/js/74.d7b242c4.js"><link rel="prefetch" href="/assets/js/75.fbe74913.js"><link rel="prefetch" href="/assets/js/76.a15f95f0.js"><link rel="prefetch" href="/assets/js/77.29e93c64.js"><link rel="prefetch" href="/assets/js/78.fde575dd.js"><link rel="prefetch" href="/assets/js/79.f083c4ed.js"><link rel="prefetch" href="/assets/js/8.cd10b72e.js"><link rel="prefetch" href="/assets/js/80.a39506a7.js"><link rel="prefetch" href="/assets/js/81.d2e564ac.js"><link rel="prefetch" href="/assets/js/82.2b736524.js"><link rel="prefetch" href="/assets/js/83.bfeab3b8.js"><link rel="prefetch" href="/assets/js/84.a6fdb01c.js"><link rel="prefetch" href="/assets/js/85.f185572b.js"><link rel="prefetch" href="/assets/js/86.f3d4a601.js"><link rel="prefetch" href="/assets/js/87.82cf0bc0.js"><link rel="prefetch" href="/assets/js/88.709f89df.js"><link rel="prefetch" href="/assets/js/89.91994ff2.js"><link rel="prefetch" href="/assets/js/9.9f4472b7.js"><link rel="prefetch" href="/assets/js/90.87f033c7.js"><link rel="prefetch" href="/assets/js/91.6eb63e44.js"><link rel="prefetch" href="/assets/js/92.ac17e9b5.js"><link rel="prefetch" href="/assets/js/93.10b4292f.js"><link rel="prefetch" href="/assets/js/94.12ad7f77.js"><link rel="prefetch" href="/assets/js/95.ce9bd490.js"><link rel="prefetch" href="/assets/js/96.6a11b010.js"><link rel="prefetch" href="/assets/js/97.1ef38c00.js"><link rel="prefetch" href="/assets/js/98.f4912cad.js"><link rel="prefetch" href="/assets/js/99.26ce447a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.471cf497.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">IMBAPUB</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/IDE/" class="nav-link">
  IDE
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  linux
</a></div><div class="nav-item"><a href="/Python/" class="nav-link">
  Python
</a></div><div class="nav-item"><a href="/Web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/windows/" class="nav-link">
  windows
</a></div><div class="nav-item"><a href="/database/" class="nav-link">
  database
</a></div><div class="nav-item"><a href="/vue/" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/design/" class="nav-link">
  design
</a></div><div class="nav-item"><a href="/php/" class="nav-link">
  php
</a></div><div class="nav-item"><a href="/safety/" class="nav-link">
  安全
</a></div><div class="nav-item"><a href="/Other/" class="nav-link">
  Other
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/IDE/" class="nav-link">
  IDE
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  linux
</a></div><div class="nav-item"><a href="/Python/" class="nav-link">
  Python
</a></div><div class="nav-item"><a href="/Web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/windows/" class="nav-link">
  windows
</a></div><div class="nav-item"><a href="/database/" class="nav-link">
  database
</a></div><div class="nav-item"><a href="/vue/" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/design/" class="nav-link">
  design
</a></div><div class="nav-item"><a href="/php/" class="nav-link">
  php
</a></div><div class="nav-item"><a href="/safety/" class="nav-link">
  安全
</a></div><div class="nav-item"><a href="/Other/" class="nav-link">
  Other
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="linux操作"><a href="#linux操作" class="header-anchor">#</a> Linux操作</h1> <ul><li><a href="#flag">flag</a></li> <li><a href="#%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F">重装系统</a> <ul><li><a href="#meowlove">MeowLove</a></li> <li><a href="#moeclub">moeclub</a></li></ul></li> <li><a href="#%E8%BD%AF%E4%BB%B6%E7%BB%84%E5%90%88">软件组合</a></li> <li><a href="#%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C">后台运行</a> <ul><li><a href="#nohup"><code>nohup</code></a></li> <li><a href="#tmux"><code>tmux</code></a></li> <li><a href="#supervisor"><code>supervisor</code></a></li> <li><a href="#setsid"><code>setsid</code></a></li> <li><a href="#screen">screen</a></li></ul></li> <li><a href="#linux%E4%B9%8B%E9%97%B4%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6">Linux之间传输文件</a> <ul><li><a href="#scp">scp</a></li> <li><a href="#rsync">rsync</a></li></ul></li> <li><a href="#%E6%80%A7%E8%83%BD%E5%8F%8A%E7%BD%91%E9%80%9F%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7">性能及网速测试工具</a> <ul><li><a href="#%E4%B8%80%E9%94%AE%E6%B5%8B%E8%AF%95%E8%84%9A%E6%9C%ACbenchsh">一键测试脚本bench.sh</a></li> <li><a href="#91yun%E7%9A%84%E7%BD%91%E7%BB%9C%E6%B5%8B%E8%AF%95%E8%84%9A%E6%9C%AC">91yun的网络测试脚本</a></li> <li><a href="#%E4%B8%BB%E6%9C%BA%E8%BF%90%E7%AE%97%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95">主机运算性能测试</a></li> <li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%B5%8B%E8%AF%95%E8%84%9A%E6%9C%AC">服务器一键测试脚本</a></li> <li><a href="#%E4%B8%AD%E6%96%87%E7%89%88">中文版</a></li> <li><a href="#%E8%8B%B1%E6%96%87%E7%89%88">英文版</a></li></ul></li> <li><a href="#%E8%B7%AF%E7%94%B1%E8%B7%9F%E8%B8%AA">路由跟踪</a> <ul><li><a href="#ping">ping</a></li> <li><a href="#traceroute">traceroute</a></li> <li><a href="#tcptraceroute">tcptraceroute</a></li> <li><a href="#mtr">mtr</a></li></ul></li> <li><a href="#%E8%A7%A3%E5%86%B3%E7%BD%91%E5%8D%A1%E9%97%AE%E9%A2%98">解决网卡问题</a> <ul><li><a href="#mtu">MTU</a></li> <li><a href="#%E6%9F%A5%E7%9C%8Bmtu%E5%80%BC">查看MTU值</a></li> <li><a href="#%E4%B8%B4%E6%97%B6%E6%9B%B4%E6%94%B9mtu%E5%80%BC">临时更改MTU值</a></li> <li><a href="#%E6%B0%B8%E4%B9%85%E6%9B%B4%E6%94%B9mtu%E5%80%BC">永久更改MTU值</a></li> <li><a href="#%E9%87%8D%E5%90%AF%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3">重启网络接口</a></li></ul></li></ul> <h2 id="flag"><a href="#flag" class="header-anchor">#</a> flag</h2> <ul><li><p><a href="https://learn-linux.readthedocs.io/zh_CN/latest/" target="_blank" rel="noopener noreferrer">Linux手册<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://network.fasionchan.com/zh_CN/latest/index.html" target="_blank" rel="noopener noreferrer">Linux网络编程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://osx-guide.readthedocs.io/zh_CN/latest/" target="_blank" rel="noopener noreferrer">OSX操作指南<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://www.moerats.com/archives/625/" target="_blank" rel="noopener noreferrer">阿里云CentOS 7系统一键净化脚本<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://learn-linux.readthedocs.io/zh_CN/latest/maintenance/monitor/tools/80-linux-monitoring-tools.html" target="_blank" rel="noopener noreferrer">Linux工程师必备的88个监控工具<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <ul><li><p><code>nethogs</code>: 按进程查看流量占用</p></li> <li><p><code>ethtool</code>: 诊断工具</p></li> <li><p><code>tcpdump</code>: 抓包工具</p></li> <li><p>监控总体带宽使用：<code>nload</code>、<code>bmon</code>、<code>slurm</code>、<code>bwm-ng</code>、<code>cbm</code>、<code>speedometer</code>、<code>netload</code></p></li> <li><p>监控总体带宽使用（批量式输出）：<code>vnstat</code>、<code>ifstat</code>、<code>dstat</code>、<code>collectl</code></p></li> <li><p>每个套接字连接的带宽使用：<code>iftop</code>、<code>iptraf</code>、<code>tcptrack</code>、<code>pktstat</code>、<code>netwatch</code>、<code>trafshow</code>、<code>jnettop</code></p></li> <li><p><code>ntopng</code></p></li></ul> <h2 id="重装系统"><a href="#重装系统" class="header-anchor">#</a> 重装系统</h2> <h3 id="meowlove"><a href="#meowlove" class="header-anchor">#</a> MeowLove</h3> <ul><li><a href="https://github.com/MeowLove/Network-Reinstall-System-Modify" target="_blank" rel="noopener noreferrer">https://github.com/MeowLove/Network-Reinstall-System-Modify<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yum update
yum <span class="token function">install</span> -y xz openssl <span class="token function">gawk</span> <span class="token function">file</span>
<span class="token comment"># 下载脚本</span>
<span class="token function">wget</span> --no-check-certificate <span class="token string">'https://raw.githubusercontent.com/MeowLove/Network-Reinstall-System-Modify/master/Network-Reinstall-System-Modify.sh'</span>
<span class="token comment"># 给脚本授权</span>
<span class="token function">chmod</span> a+x Network-Reinstall-System-Modify.sh
<span class="token comment"># 一键网络重装纯净CentOS 7</span>
<span class="token function">bash</span> Network-Reinstall-System-Modify.sh -CentOS_7
<span class="token comment"># 一键网络重装纯净Windows Server 2019</span>
<span class="token function">bash</span> Network-Reinstall-System-Modify.sh -Windows_Server_2019
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>下载SHELL脚本（通过root用户运行）</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> --no-check-certificate -qO ~/Network-Reinstall-System-Modify.sh <span class="token string">'https://www.cxthhhhh.com/tech-tools/Network-Reinstall-System-Modify/Network-Reinstall-System-Modify.sh'</span> 

<span class="token function">chmod</span> a+x ~/Network-Reinstall-System-Modify.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>安装Linux系统</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># ①. 一键网络重装纯净CentOS 7（推荐）</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -CentOS_7
<span class="token comment"># ②. 一键网络重装纯净CentOS 6</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -CentOS_6
<span class="token comment"># ③. 一键网络重装纯净Debian 10（推荐）</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -Debian_10
<span class="token comment"># ④. 一键网络重装纯净Debian 9</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -Debian_9
<span class="token comment"># ⑤. 一键网络重装纯净Debian 8</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -Debian_8
<span class="token comment"># ⑥. 一键网络重装纯净Ubuntu 18.04（推荐）</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -Ubuntu_18.04
<span class="token comment"># ⑦. 一键网络重装纯净Ubuntu 16.04</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -Ubuntu_16.04
<span class="token comment"># ⑧. 一键网络重装纯净Ubuntu 14.04</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -Ubuntu_14.04
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li>安装Windows系统</li></ul> <blockquote><p>警告：你需要购买来自Microsoft或其合作伙伴正版系统授权并激活系统使用。继续安装即代表您知悉并已经购买正版授权。</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># ①. 一键网络重装纯净Windows Server 2019（推荐）</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -Windows_Server_2019
<span class="token comment"># ②. 一键网络重装纯净Windows Server 2016</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -Windows_Server_2016
<span class="token comment"># ③. 一键网络重装纯净Windows Server 2012 R2</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -Windows_Server_2012R2
<span class="token comment"># ④. 一键网络重装纯净Windows Server 2008 R2</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -Windows_Server_2008R2
<span class="token comment"># ⑤. 一键网络重装纯净Windows 7 Vienna</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -Windows_7_Vienna
<span class="token comment"># ⑥. 一键网络重装纯净Windows Server 2003</span>
<span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -Windows_Server_2003
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>安装裸机系统部署平台</li></ul> <blockquote><p>仅适用于高端用户，手动安装任意系统。可通过网络ISO或iPXE安装任意系统。</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -CXT_Bare-metal_System_Deployment_Platform
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>安装DD系统</li></ul> <blockquote><p>如果您不了解这意味着什么，请不要进行操作。%ULR%应该替换为您自己的映像地址。</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">bash</span> ~/Network-Reinstall-System-Modify.sh -DD <span class="token string">&quot;%URL%&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">bash</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token function">wget</span> --no-check-certificate -qO- <span class="token string">'https://zhujiwiki.com/wp-content/uploads/2018/04/InstallNET.sh'</span><span class="token punctuation">)</span> -dd <span class="token string">'https://hao.zhujiwiki.com/dd/CentOS_7.X_NetInstallation.vhd.gz'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="moeclub"><a href="#moeclub" class="header-anchor">#</a> moeclub</h3> <ul><li><a href="https://moeclub.org/2018/04/03/603/" target="_blank" rel="noopener noreferrer">https://moeclub.org/2018/04/03/603/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <blockquote><p>适用于由GRUB引导的CentOS,Ubuntu,Debian系统</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yum update
yum <span class="token function">install</span> -y xz openssl <span class="token function">gawk</span> <span class="token function">file</span>
<span class="token comment"># 下载脚本</span>
<span class="token function">wget</span> --no-check-certificate <span class="token string">'https://moeclub.org/attachment/LinuxShell/InstallNET.sh'</span>
<span class="token comment"># 给脚本授权</span>
<span class="token function">chmod</span> a+x InstallNET.sh
<span class="token comment"># 一键网络重装纯净CentOS 7</span>
<span class="token function">bash</span> InstallNET.sh -c <span class="token number">7.6</span>.1810 -v <span class="token number">64</span> -a --mirror <span class="token string">'http://mirror.centos.org/centos'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="软件组合"><a href="#软件组合" class="header-anchor">#</a> 软件组合</h2> <ul><li><p><a href="https://lamp.sh" target="_blank" rel="noopener noreferrer">https://lamp.sh<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://oneinstack.com" target="_blank" rel="noopener noreferrer">https://oneinstack.com<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://lnmp.org" target="_blank" rel="noopener noreferrer">https://lnmp.org<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <h2 id="后台运行"><a href="#后台运行" class="header-anchor">#</a> 后台运行</h2> <h3 id="nohup"><a href="#nohup" class="header-anchor">#</a> <code>nohup</code></h3> <ul><li><strong>只输出错误日志</strong></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">nohup</span> python3 ./index.py <span class="token operator">&gt;</span>/dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>index.log <span class="token operator">&amp;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>不输出日志</strong></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">nohup</span> python3 ./index.py <span class="token operator">&gt;</span>/dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>Linux的3种重定向</strong></li></ul> <blockquote><p><code>0</code>表示标准输入</p> <p><code>1</code>标准输出,在一般使用时，默认的是标准输出</p> <p><code>2</code>标准错误信息输出</p> <blockquote><p>可以用来指定需要重定向的标准输入或输出。</p> <p>将某个程序的错误信息输出到log文件中：./index 2&gt;index.log。
这样标准输出还是在屏幕上，但是错误信息会输出到log文件中。</p> <p>另外，也可以实现0，1，2之间的重定向。<code>2&gt;&amp;1</code>：将错误信息重定向到标准输出。</p></blockquote></blockquote> <ul><li><strong>关于<code>/dev/null</code>文件</strong></li></ul> <blockquote><p>Linux下还有一个特殊的文件/dev/null，它就像一个无底洞，所有重定向到它的信息都会消失得无影无踪。
这一点非常有用，当我们不需要回显程序的所有信息时，就可以将输出重定向到/dev/null。</p></blockquote> <h3 id="tmux"><a href="#tmux" class="header-anchor">#</a> <code>tmux</code></h3> <blockquote><p><code>tmux</code>是一款<code>Linux</code>下的终端复用工具，可以开启不同的终端窗口来将应用程序作为后台守护进程执行，
即使远程连接的SSH断开也不会影响程序的执行。</p></blockquote> <ol><li><code>yum install tmux</code></li> <li>新建<code>tmux new -s 程序名称</code>；</li> <li>在新终端窗口中执行<code>./程序名称</code>即可；</li> <li>使用<code>Ctrl</code> + <code>B &amp; D</code>快捷键可以退出当前终端窗口；</li> <li>使用<code>tmux attach -t 程序名称</code>可进入到之前的终端窗口；</li></ol> <h3 id="supervisor"><a href="#supervisor" class="header-anchor">#</a> <code>supervisor</code></h3> <blockquote><p><code>supervisor</code>是用<code>Python</code>开发的一套通用的进程管理程序，能将一个普通的命令行进程变为后台<code>daemon</code>，
并监控进程状态，异常退出时能自动重启。</p></blockquote> <p><a href="http://supervisord.org" target="_blank" rel="noopener noreferrer">http://supervisord.org<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>常见配置如下</li></ul> <div class="language-vim line-numbers-mode"><pre class="language-vim"><code><span class="token punctuation">[</span>program<span class="token punctuation">:</span>程序名称<span class="token punctuation">]</span>
user<span class="token operator">=</span>root
command<span class="token operator">=</span><span class="token operator">/</span>var<span class="token operator">/</span>www<span class="token operator">/</span>main
stdout_logfile<span class="token operator">=</span><span class="token operator">/</span>var<span class="token operator">/</span>log<span class="token operator">/</span>gf<span class="token operator">-</span>app<span class="token operator">-</span>stdout<span class="token operator">.</span>log
stderr_logfile<span class="token operator">=</span><span class="token operator">/</span>var<span class="token operator">/</span>log<span class="token operator">/</span>gf<span class="token operator">-</span>app<span class="token operator">-</span>stderr<span class="token operator">.</span>log
autostart<span class="token operator">=</span>true
autorestart<span class="token operator">=</span>true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>使用步骤如下</li></ul> <ol><li>使用<code>sudo service supervisor start</code>启动<code>supervisor</code>服务；</li> <li>创建应用配置文件<code>/etc/supervisor/conf.d/程序名称.conf</code>, 内容如上;</li> <li>使用<code>sudo supervisorctl</code>进入<code>supervisor</code>管理终端；</li> <li>使用<code>reload</code>重新读取配置文件并重启当前<code>supoervisor</code>管理的所有进程；</li> <li>也可以使用<code>update</code>重新加载配置(默认不重启)，随后使用<code>start 程序名称</code>启动指定的应用程序；</li> <li>随后可以使用<code>status</code>指令查看当前<code>supervisor</code>管理的进程状态；</li></ol> <h3 id="setsid"><a href="#setsid" class="header-anchor">#</a> <code>setsid</code></h3> <blockquote><p><code>setsid</code>就是<code>set session id</code>的意思。表示该命令运行的进程是一个新的<code>session</code>。因此其父进程不属于当前终端。
实际上<code>setsid</code>运行的进程，其父进程id(ppid)为1(init进程的id)。</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>setsid python3 ./index.py <span class="token operator">&gt;</span>/dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p><strong>语法</strong></p></li> <li><p><code>setsid(选项)(参数)</code></p></li></ul> <blockquote><p><code>-c</code>, <code>--ctty</code> 将控制终端设置为当前控制终端</p> <p><code>-f</code>, <code>--fork</code> 总是 fork</p> <p><code>-w</code>, <code>--wait</code> 等待程序退出，并使用相同的返回</p></blockquote> <h3 id="screen"><a href="#screen" class="header-anchor">#</a> screen</h3> <blockquote><p><code>Screen</code>是一款由 GNU 计划开发的用于命令行终端切换的自由软件。
用户可以通过该软件同时连接多个本地或远程的命令行会话，并在其间自由切换。
GNU Screen 可以看作是窗口管理器的命令行界面版本。它提供了统一的管理多个会话的界面和相应的功能。</p></blockquote> <ul><li><strong>安装</strong></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> -y <span class="token function">screen</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>创建一个screen会话</strong></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">screen</span> -S 会话名称
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p><strong>隐藏并保留当前会话</strong></p></li> <li><p>按<code>Ctrl+A</code>，再按<code>D</code>键</p></li> <li><p><strong>列出所有的会话列表</strong></p></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">screen</span> -ls
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>恢复会话窗口</strong></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">screen</span> -r 会话名称
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>关闭会话窗口</strong></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">exit</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p><strong>选项</strong></p></li> <li><p><code>-A</code> 　将所有的视窗都调整为目前终端机的大小。</p></li> <li><p><code>-d</code> &lt;作业名称&gt; 　将指定的screen作业离线。</p></li> <li><p><code>-h</code> &lt;行数&gt; 　指定视窗的缓冲区行数。</p></li> <li><p><code>-m</code> 　即使目前已在作业中的screen作业，仍强制建立新的screen作业。</p></li> <li><p><code>-r</code> &lt;作业名称&gt; 　恢复离线的screen作业。</p></li> <li><p><code>-R</code> 　先试图恢复离线的作业。若找不到离线的作业，即建立新的screen作业。</p></li> <li><p><code>-s</code> 　指定建立新视窗时，所要执行的shell。</p></li> <li><p><code>-S</code> &lt;作业名称&gt; 　指定screen作业的名称。</p></li> <li><p><code>-v</code> 　显示版本信息。</p></li> <li><p><code>-x</code> 　恢复之前离线的screen作业。</p></li> <li><p><code>-ls</code>或<code>--list</code> 　显示目前所有的screen作业。</p></li> <li><p><code>-wipe</code> 　检查目前所有的screen作业，并删除已经无法使用的screen作业。</p></li></ul> <h2 id="linux之间传输文件"><a href="#linux之间传输文件" class="header-anchor">#</a> Linux之间传输文件</h2> <blockquote><p>首先进入需要搭建web服务器的目录，然后在输入下面的命令</p> <p>注意：不填端口号则默认使用8000端口。</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># linux</span>
python -m SimpleHTTPServer port
<span class="token comment"># windows</span>
python -m http.server port

<span class="token comment"># 服务开启后，地址协议类型加IP/目录下的文件： </span>
<span class="token function">wget</span> host:port/file 就可以下载了
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="scp"><a href="#scp" class="header-anchor">#</a> scp</h3> <blockquote><p>【优点】简单方便，安全可靠；支持限速参数，不占资源，不会提高多少系统负荷</p> <p>【缺点】不支持排除目录</p> <p>【用法】scp就是secure copy，是用来进行远程文件拷贝的。数据传输使用 ssh，并且和ssh 使用相同的认证方式，提供相同的安全保证 。</p></blockquote> <ul><li>命令参数</li></ul> <blockquote><p>-1  强制scp命令使用协议ssh1</p> <p>-2  强制scp命令使用协议ssh2</p> <p>-4  强制scp命令只使用IPv4寻址</p> <p>-6  强制scp命令只使用IPv6寻址</p> <p>-B  使用批处理模式（传输过程中不询问传输口令或短语）</p> <p>-C  允许压缩。（将-C标志传递给ssh，从而打开压缩功能）</p> <p>-p 保留原文件的修改时间，访问时间和访问权限。</p> <p>-q  不显示传输进度条。</p> <p>-r  递归复制整个目录。</p> <p>-v 详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。</p> <p>-c cipher  以cipher将数据传输进行加密，这个选项将直接传递给ssh。</p> <p>-F ssh_config  指定一个替代的ssh配置文件，此参数直接传递给ssh。</p> <p>-i identity_file  从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。</p> <p>-l limit  限定用户所能使用的带宽，以Kbit/s为单位。</p> <p>-o ssh_option  如果习惯于使用ssh_config(5)中的参数传递方式，</p> <p>-P port  注意是大写的P, port是指定数据传输用到的端口号</p> <p>-S program  指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。</p></blockquote> <blockquote><p>scp [参数] &lt;源地址（用户名@IP地址或主机名）&gt;:&lt;文件路径&gt; &lt;目的地址（用户名 @IP 地址或主机名）&gt;:&lt;文件路径&gt;</p></blockquote> <ul><li>示例</li></ul> <blockquote><p>把本地的source.txt文件拷贝到192.168.0.10机器上的/home/work目录下</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">scp</span> -P <span class="token number">22</span> -p /home/work/source.txt work@192.168.0.10:/home/work/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>把192.168.0.10机器上的source.txt文件拷贝到本地的/home/work目录下</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">scp</span> -P <span class="token number">22</span> -p work@192.168.0.10:/home/work/source.txt /home/work/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>把192.168.0.10机器上的source.txt文件拷贝到192.168.0.11机器的/home/work目录下</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">scp</span> -P <span class="token number">22</span> -p work@192.168.0.10:/home/work/source.txt work@192.168.0.11:/home/work/
<span class="token comment"># 拷贝文件夹，加-r参数</span>
<span class="token function">scp</span> -P <span class="token number">22</span> -p -r /home/work/sourcedir work@192.168.0.10:/home/work/
<span class="token comment"># 使用主机名</span>
<span class="token function">scp</span> -P <span class="token number">22</span> -p -r /home/work/sourcedir work@www.myhost.com:/home/work/
<span class="token comment"># 显示详情，加-v参数</span>
<span class="token function">scp</span> -P <span class="token number">22</span> -p -r -v /home/work/sourcedir work@www.myhost.com:/home/work/  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>将远程主机复制到本地</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">scp</span> -P <span class="token number">22</span> -p root@192.168.214.187:/tmp/demo/f3.log /tmp/files/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>遇到的问题</strong></li></ul> <blockquote><p>输入密码时提示：<code>Permission denied, please try again.</code></p></blockquote> <ul><li><p>先修改远程文件夹或文件的权限<code>chmod -R 777 路径</code></p></li> <li><p>修改<code>PermitRootLogin</code>允许Root登录</p></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 编辑sshd_config文件</span>
<span class="token function">vi</span> /etc/ssh/sshd_config
<span class="token comment"># 搜索PermitRootLogin并修改为yes</span>
/PermitRootLogin
<span class="token comment"># 重启ssh</span>
/etc/init.d/sshd restart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="rsync"><a href="#rsync" class="header-anchor">#</a> rsync</h3> <blockquote><p>【优点】功能强大，操作类似scp，支持排除目录，支持限速参数；还支持本地复制。</p> <p>【缺点】会耗系统资源，占用I/O</p> <p>【用法】rsync是类unix系统下的数据镜像备份工具，从软件的命名上就可以看出来了——remote sync。
它的操作方式和scp和相似，但是比scp强大很多。使用双冒号分割主机名和文件路径时，是使用rsync服务器</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 把本地的source.txt文件拷贝到192.168.0.10机器上的/home/work目录下</span>
<span class="token function">rsync</span> /home/work/source.txt work@192.168.0.10:/home/work/

<span class="token comment"># 把192.168.0.10机器上的source.txt文件拷贝到本地的/home/work目录下</span>
<span class="token function">rsync</span> work@192.168.0.10:/home/work/source.txt /home/work/

<span class="token comment"># 把192.168.0.10机器上的source.txt文件拷贝到192.168.0.11机器的/home/work目录下</span>
<span class="token function">rsync</span> work@192.168.0.10:/home/work/source.txt work@192.168.0.11:/home/work/

<span class="token comment"># 拷贝文件夹，加-r参数</span>
<span class="token function">rsync</span> -r /home/work/sourcedir work@192.168.0.10:/home/work/

<span class="token comment"># 使用主机名</span>
<span class="token function">rsync</span> -r /home/work/sourcedir work@www.myhost.com:/home/work/

<span class="token comment"># 显示详情，加-v参数</span>
<span class="token function">rsync</span> -r -v /home/work/sourcedir work@www.myhost.com:/home/work/

<span class="token comment"># 排除子目录，注意：--exclude后面的路径不能为绝对路径，必须为相对路径才可以，否则匹配不上，就不会被排除掉。</span>
<span class="token function">rsync</span> -r -v --exclude sourcedir/notinclude /home/work/sourcedir work@www.myhost.com:/home/work/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="性能及网速测试工具"><a href="#性能及网速测试工具" class="header-anchor">#</a> 性能及网速测试工具</h2> <h3 id="一键测试脚本bench-sh"><a href="#一键测试脚本bench-sh" class="header-anchor">#</a> 一键测试脚本bench.sh</h3> <blockquote><p>这个是秋水逸冰老大的脚本，用于测试网络下载及主机IO性能测试。是网络上普遍使用的脚本，界面很漂亮。</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> -qO- bench.sh <span class="token operator">|</span> <span class="token function">bash</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_91yun的网络测试脚本"><a href="#_91yun的网络测试脚本" class="header-anchor">#</a> 91yun的网络测试脚本</h3> <blockquote><p>这个来自91yun的脚本，主要测试的是网络ping值及路由。</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> -N --no-check-certificate https://raw.githubusercontent.com/91yun/91yuntest/master/test_91yun.sh
<span class="token function">bash</span> test_91yun.sh s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="主机运算性能测试"><a href="#主机运算性能测试" class="header-anchor">#</a> 主机运算性能测试</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> --no-check-certificate https://github.com/teddysun/across/raw/master/unixbench.sh
<span class="token function">chmod</span> +x unixbench.sh
./unixbench.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="服务器一键测试脚本"><a href="#服务器一键测试脚本" class="header-anchor">#</a> 服务器一键测试脚本</h3> <blockquote><p>可以一键检测服务器基本性能，以及网络去程回程的速度。功能相当完善。作者还一直在维护，
代码整合来自 SpeedTest 和 OldKing 的 SuperSpeed。</p></blockquote> <ul><li>by <a href="https://github.com/FunctionClub/ZBench" target="_blank" rel="noopener noreferrer">FunctionClub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="中文版"><a href="#中文版" class="header-anchor">#</a> 中文版</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh
<span class="token function">bash</span> ZBench-CN.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="英文版"><a href="#英文版" class="header-anchor">#</a> 英文版</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench.sh
<span class="token function">bash</span> ZBench.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>测试完之后，会在/root/下面生成一个 report.html 的文件。</p></blockquote> <ul><li>Superspeed.sh by <a href="https://github.com/oooldking/script" target="_blank" rel="noopener noreferrer">Oldking<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> https://raw.githubusercontent.com/oooldking/script/master/superspeed.sh
<span class="token function">chmod</span> +x superspeed.sh
./superspeed.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="路由跟踪"><a href="#路由跟踪" class="header-anchor">#</a> 路由跟踪</h2> <h3 id="ping"><a href="#ping" class="header-anchor">#</a> ping</h3> <blockquote><p>ping使用了ICMP回送请求和回送应答报文。ping工具发出去的数据包没有通过tcp/udp协议，
但是要经过ip协议。ping命令计算的时间是数据包的往返总时间。</p></blockquote> <ul><li><p><strong>ping选项</strong></p></li> <li><p><code>-c num</code>  表示使用ping发出去num个数据包</p></li> <li><p><code>-d</code> 使用Socket的SO_DEBUG功能。</p></li> <li><p><code>-f</code>  极限检测。大量且快速地送网络封包给一台机器，看它的回应。快速ping，Flood ping，发送接收ICMP Echo报文的频率快了非常多</p></li> <li><p><code>-n</code> 只输出IP,表示ping的输出中包含主机信息的都用ip表示，不在进行ip和主机名之间的映射，那样ping的响应速度会更快。</p></li> <li><p><code>-q</code> 不显示任何传送封包的信息，只显示最后的结果。</p></li> <li><p><code>-r</code> 忽略普通的Routing Table，直接将数据包送到远端主机上。通常是查看本机的网络接口是否有问题。</p></li> <li><p><code>-R</code> 记录路由过程。</p></li> <li><p><code>-v</code> 详细显示指令的执行过程。</p></li> <li><p><code>-c</code> 数目：在发送指定数目的包后停止。LINUX的ping不会自动终止如果不指定这个参数就需要手动按ctrl+c终止</p></li> <li><p><code>-i</code> 秒数：设定间隔几秒送一个网络封包给一台机器，预设值是一秒送一次。</p></li> <li><p><code>-I</code> 网络界面：使用指定的网络界面送出数据包。</p></li> <li><p><code>-l</code> 前置载入：设置在送出要求信息之前，先行发出的数据包。</p></li> <li><p><code>-p</code> 范本样式：设置填满数据包的范本样式。</p></li> <li><p><code>-s</code> packetsize 字节数：指定发送的数据字节数，预设值是56，加上8字节的ICMP头，一共是64ICMP数据字节。</p></li> <li><p><code>-t</code> 存活数值：设置存活数值TTL的大小。设定数据包在网络上传输的Time To Live（TTL）生命周期</p></li> <li><p><strong>ping示例</strong></p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>ping -c 3 -s 512 www.woytu.com  #表示向www.bnxb.com发送3个512B大小的数据包，来进行网络探测  
ping -f www.woytu.com           #快速ping
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="traceroute"><a href="#traceroute" class="header-anchor">#</a> traceroute</h3> <ul><li><p><strong>traceroute选项</strong></p></li> <li><p><code>-d</code> 使用Socket层级的排错功能。</p></li> <li><p><code>-f</code> 设置第一个检测数据包的存活数值TTL的大小。</p></li> <li><p><code>-F</code> 设置勿离断位。</p></li> <li><p><code>-g</code> 设置来源路由网关,最多可设置8个。</p></li> <li><p><code>-i</code> 使用指定的网络界面送出数据包。</p></li> <li><p><code>-I</code> 使用ICMP回应取代UDP,与-U-T是互斥关系。</p></li> <li><p><code>-m</code> 设置检测数据包的最大存活数值TTL的大小,也就是改变跳数,默认只检测30跳。</p></li> <li><p><code>-n</code> 直接使用IP地址而非主机名称。</p></li> <li><p><code>-p</code> 设置UDP传输协议的通信端口。</p></li> <li><p><code>-q</code> 改变每一次主机之间路由传送包的次数,最大为10</p></li> <li><p><code>-r</code> 忽略普通的Routing Table,直接将数据包送到远端主机上。</p></li> <li><p><code>-s</code> 设置本地主机送出数据包的IP地址。</p></li> <li><p><code>-t</code> 设置检测数据包的TOS数值。</p></li> <li><p><code>-T</code> 使用TCP协议来探测,与-U-I是互斥关系,另外TCP协议默认是80端口,而LINUX下1024以下端口需要管理员ROOT权限才能执行,因此需注意权限。</p></li> <li><p><code>-U</code> 使用UDP协议来探测,这是默认的检测协议</p></li> <li><p><code>-v</code> 详细显示指令的执行过程。</p></li> <li><p><code>-w</code> 设置等待远端主机回报的时间。</p></li> <li><p><code>-x</code> 开启或关闭数据包的正确性检验。</p></li> <li><p><strong>安装</strong></p></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yum -y <span class="token function">install</span> <span class="token function">traceroute</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>示例</strong></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">traceroute</span> www.woytu.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>备注，使用traceroute返回的每行信息中有三个时间值，那是因为对于每个节点或者路由器，源端发了三次探测请求。</p></blockquote> <h3 id="tcptraceroute"><a href="#tcptraceroute" class="header-anchor">#</a> tcptraceroute</h3> <ul><li><p><strong>tcptraceroute选项</strong></p></li> <li><p><code>-i</code> 指定接口</p></li> <li><p><code>-f</code> 设置开始TTL值（第一条显示的路径）</p></li> <li><p><code>-l</code> 包长度</p></li> <li><p><code>-q</code> 每一跳延时查询的次数（default 3）</p></li> <li><p><code>-t</code> 设置TOS(服务类型)可用于传出数据包。默认 未设置</p></li> <li><p><code>-m</code> 设置最大TTL值</p></li> <li><p><code>-p</code> 指定使用本机的特定端口作为源端口（默认随机）</p></li> <li><p><code>-s</code> 如果本机有多个IP，可指定使用一个IP进行追踪</p></li> <li><p><code>-w</code> 等待超时时间</p></li> <li><p><code>host</code> 必跟参数，可以使用主机名或者IP地址</p></li> <li><p><code>des port</code> 可选选项，默认使用目的地址的80端口</p></li> <li><p><strong>安装</strong></p></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yum -y <span class="token function">install</span> tcptraceroute
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>示例</strong></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>tcptraceroute www.woytu.com <span class="token number">443</span> -n -q <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="mtr"><a href="#mtr" class="header-anchor">#</a> mtr</h3> <ul><li><p><a href="https://www.cnblogs.com/xzkzzz/p/7413177.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/xzkzzz/p/7413177.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://www.jianshu.com/p/802010d54849" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/802010d54849<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://cloud.tencent.com/developer/article/1332118" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/developer/article/1332118<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="http://winmtr.net/download-winmtr/" target="_blank" rel="noopener noreferrer">http://winmtr.net/download-winmtr<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <blockquote><p>在Linux中有一个更好的网络连通性判断工具，它可以结合ping | nslookup | tracert 来判断网络的相关特性，这个命令就是mtr。</p></blockquote> <blockquote><p>注意：MTR使用的raw sockets是绕过TCP/IP协议，需要ROOT权限来执行，因此如果以普通用户身份来执行mtr会出错，
提示“mtr: unable to get raw sockets”</p></blockquote> <ul><li><p><strong>选项</strong></p></li> <li><p><code>-n</code> 不探测主机名,no-dns不对IP地址做主机名解析</p></li> <li><p><code>-r</code> 将mtr设置为报告模式，追踪结果以报告模式输出。若没有-r显现，那么将进入mtr的实时交互模式。</p></li> <li><p><code>-c</code> num 定义追踪的次数，每次是1s，且-c必须和-r配合使用，默认的10次。</p></li> <li><p><code>-s</code> 用来指定ping数据包的大小</p></li> <li><p><code>-a</code> 来设置发送数据包的IP地址 这个对一个主机由多个IP地址是有用的</p></li> <li><p><code>-i</code> 使用这个参数来设置ICMP返回之间的要求默认是1秒</p></li> <li><p><code>-4</code> IPv4</p></li> <li><p><code>-6</code> IPv6</p></li> <li><p><strong>安装</strong></p></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yum -y <span class="token function">install</span> <span class="token function">mtr</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>使用格式</strong></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">mtr</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token function">hostname</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>示例</strong></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">mtr</span> -r www.woytu.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>第一列:显示的是IP地址和本机域名，这点和tracert很像</li> <li>第二列:snt:10 设置追踪的次数，默认值是10 可以通过参数 -c来定制，例如mtr -r -c 15 www.bnxb.com</li> <li>第三列 Loss: 是显示的每个对应IP的丢包率</li> <li>第四列 Last: 显示的最近一次的返回时延</li> <li>第五列 Avg : 是平均值 这个应该是发送ping包的平均时延</li> <li>第六列 Best: 是最好或者说时延最短的</li> <li>第七列 Wrst: 是最差或者说时延最常的</li> <li>第八列 StDev: 是标准偏差</li></ul> <h2 id="解决网卡问题"><a href="#解决网卡问题" class="header-anchor">#</a> 解决网卡问题</h2> <h3 id="mtu"><a href="#mtu" class="header-anchor">#</a> MTU</h3> <blockquote><p>MTU经过网卡传输的数据包的最大传输单元,传输设备的MTU值不规范造成传输失败的情况</p></blockquote> <h3 id="查看mtu值"><a href="#查看mtu值" class="header-anchor">#</a> 查看MTU值</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> /sys/class/net/eth0/mtu
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="临时更改mtu值"><a href="#临时更改mtu值" class="header-anchor">#</a> 临时更改MTU值</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;1476&quot;</span> <span class="token operator">&gt;</span> /sys/class/net/eth0/mtu
<span class="token comment"># 或者</span>
<span class="token comment"># ifconfig 网口名 mtu 数值</span>
<span class="token function">ifconfig</span> eth0 mtu <span class="token number">1476</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="永久更改mtu值"><a href="#永久更改mtu值" class="header-anchor">#</a> 永久更改MTU值</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">vi</span> /etc/sysconfig/network-scripts/ifcfg-eth0
<span class="token comment"># 在DEVICE=eth0下面加入</span>
<span class="token assign-left variable">MTU</span><span class="token operator">=</span><span class="token number">1476</span>
<span class="token comment"># 启用IPv6地址的，修改IPv6 mtu的参数为</span>
<span class="token assign-left variable">IPV6_MTU</span><span class="token operator">=</span><span class="token string">&quot;1280&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="重启网络接口"><a href="#重启网络接口" class="header-anchor">#</a> 重启网络接口</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">service</span> network restart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/6/2020, 7:21:36 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c2625d5e.js" defer></script><script src="/assets/js/2.3a46498f.js" defer></script><script src="/assets/js/57.e0e55bd4.js" defer></script>
  </body>
</html>
