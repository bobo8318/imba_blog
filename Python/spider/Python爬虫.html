<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python爬虫 | IMBAPUB</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="这真的很imba">
    <link rel="preload" href="/assets/css/0.styles.471cf497.css" as="style"><link rel="preload" href="/assets/js/app.e35ca489.js" as="script"><link rel="preload" href="/assets/js/2.3a46498f.js" as="script"><link rel="preload" href="/assets/js/48.4bd49e90.js" as="script"><link rel="prefetch" href="/assets/js/10.2018e9fd.js"><link rel="prefetch" href="/assets/js/100.d248d1a1.js"><link rel="prefetch" href="/assets/js/101.20d374a3.js"><link rel="prefetch" href="/assets/js/102.6f89bce9.js"><link rel="prefetch" href="/assets/js/103.462dee05.js"><link rel="prefetch" href="/assets/js/104.f7cda00b.js"><link rel="prefetch" href="/assets/js/105.f9a26864.js"><link rel="prefetch" href="/assets/js/106.363e309f.js"><link rel="prefetch" href="/assets/js/107.77657b30.js"><link rel="prefetch" href="/assets/js/108.a958628c.js"><link rel="prefetch" href="/assets/js/109.b08e857c.js"><link rel="prefetch" href="/assets/js/11.823d6f8d.js"><link rel="prefetch" href="/assets/js/110.c76d755d.js"><link rel="prefetch" href="/assets/js/111.b2fd2943.js"><link rel="prefetch" href="/assets/js/112.8b25f21e.js"><link rel="prefetch" href="/assets/js/113.3ed89c42.js"><link rel="prefetch" href="/assets/js/114.fb9abbf2.js"><link rel="prefetch" href="/assets/js/115.40001f6b.js"><link rel="prefetch" href="/assets/js/116.034d175f.js"><link rel="prefetch" href="/assets/js/117.1a08fa0d.js"><link rel="prefetch" href="/assets/js/118.36362764.js"><link rel="prefetch" href="/assets/js/119.9d971d94.js"><link rel="prefetch" href="/assets/js/12.ef380254.js"><link rel="prefetch" href="/assets/js/120.c657f1a3.js"><link rel="prefetch" href="/assets/js/121.2e4976c7.js"><link rel="prefetch" href="/assets/js/122.1b4544e7.js"><link rel="prefetch" href="/assets/js/123.67648aac.js"><link rel="prefetch" href="/assets/js/13.697ff2be.js"><link rel="prefetch" href="/assets/js/14.d9443a9c.js"><link rel="prefetch" href="/assets/js/15.a9dff45d.js"><link rel="prefetch" href="/assets/js/16.77e1e60d.js"><link rel="prefetch" href="/assets/js/17.6eced122.js"><link rel="prefetch" href="/assets/js/18.5af74e2c.js"><link rel="prefetch" href="/assets/js/19.150015fd.js"><link rel="prefetch" href="/assets/js/20.a1dd4619.js"><link rel="prefetch" href="/assets/js/21.5372c147.js"><link rel="prefetch" href="/assets/js/22.6e9ff47a.js"><link rel="prefetch" href="/assets/js/23.4176bb24.js"><link rel="prefetch" href="/assets/js/24.b7f8575c.js"><link rel="prefetch" href="/assets/js/25.bd0cd70a.js"><link rel="prefetch" href="/assets/js/26.309cbfe1.js"><link rel="prefetch" href="/assets/js/27.9489af17.js"><link rel="prefetch" href="/assets/js/28.9cca7ff8.js"><link rel="prefetch" href="/assets/js/29.c6f85384.js"><link rel="prefetch" href="/assets/js/3.02e401b3.js"><link rel="prefetch" href="/assets/js/30.19535190.js"><link rel="prefetch" href="/assets/js/31.57c3c868.js"><link rel="prefetch" href="/assets/js/32.db16b5a4.js"><link rel="prefetch" href="/assets/js/33.d68397d3.js"><link rel="prefetch" href="/assets/js/34.27338e5a.js"><link rel="prefetch" href="/assets/js/35.76c61489.js"><link rel="prefetch" href="/assets/js/36.c7baad28.js"><link rel="prefetch" href="/assets/js/37.0bd618e5.js"><link rel="prefetch" href="/assets/js/38.67646ba4.js"><link rel="prefetch" href="/assets/js/39.792b5004.js"><link rel="prefetch" href="/assets/js/4.606cd99c.js"><link rel="prefetch" href="/assets/js/40.4263f589.js"><link rel="prefetch" href="/assets/js/41.3ae17213.js"><link rel="prefetch" href="/assets/js/42.67d07cb8.js"><link rel="prefetch" href="/assets/js/43.8d0ddff6.js"><link rel="prefetch" href="/assets/js/44.8082ba0e.js"><link rel="prefetch" href="/assets/js/45.5a00bcd5.js"><link rel="prefetch" href="/assets/js/46.0abb047f.js"><link rel="prefetch" href="/assets/js/47.78779a39.js"><link rel="prefetch" href="/assets/js/49.178fe603.js"><link rel="prefetch" href="/assets/js/5.09079429.js"><link rel="prefetch" href="/assets/js/50.57067e12.js"><link rel="prefetch" href="/assets/js/51.6d41569c.js"><link rel="prefetch" href="/assets/js/52.9f684a44.js"><link rel="prefetch" href="/assets/js/53.1fb124a5.js"><link rel="prefetch" href="/assets/js/54.94191d1f.js"><link rel="prefetch" href="/assets/js/55.8f63ccfb.js"><link rel="prefetch" href="/assets/js/56.7f2ef3fa.js"><link rel="prefetch" href="/assets/js/57.e0e55bd4.js"><link rel="prefetch" href="/assets/js/58.8b9bbcc6.js"><link rel="prefetch" href="/assets/js/59.a3a3fe01.js"><link rel="prefetch" href="/assets/js/6.3c4b6517.js"><link rel="prefetch" href="/assets/js/60.47f5455b.js"><link rel="prefetch" href="/assets/js/61.55dccf8c.js"><link rel="prefetch" href="/assets/js/62.25c52188.js"><link rel="prefetch" href="/assets/js/63.3584d76c.js"><link rel="prefetch" href="/assets/js/64.490d018b.js"><link rel="prefetch" href="/assets/js/65.e5e6c765.js"><link rel="prefetch" href="/assets/js/66.9718a4fe.js"><link rel="prefetch" href="/assets/js/67.29af663e.js"><link rel="prefetch" href="/assets/js/68.51122fa7.js"><link rel="prefetch" href="/assets/js/69.f16d243b.js"><link rel="prefetch" href="/assets/js/7.5dcc397c.js"><link rel="prefetch" href="/assets/js/70.db5049d8.js"><link rel="prefetch" href="/assets/js/71.eba1a8e2.js"><link rel="prefetch" href="/assets/js/72.105af7b3.js"><link rel="prefetch" href="/assets/js/73.874bb3c4.js"><link rel="prefetch" href="/assets/js/74.7cd2f043.js"><link rel="prefetch" href="/assets/js/75.fbe74913.js"><link rel="prefetch" href="/assets/js/76.a15f95f0.js"><link rel="prefetch" href="/assets/js/77.29e93c64.js"><link rel="prefetch" href="/assets/js/78.fde575dd.js"><link rel="prefetch" href="/assets/js/79.8b819553.js"><link rel="prefetch" href="/assets/js/8.cd10b72e.js"><link rel="prefetch" href="/assets/js/80.5b868bd2.js"><link rel="prefetch" href="/assets/js/81.af82a4ee.js"><link rel="prefetch" href="/assets/js/82.51e287e4.js"><link rel="prefetch" href="/assets/js/83.d1e608e1.js"><link rel="prefetch" href="/assets/js/84.078544e4.js"><link rel="prefetch" href="/assets/js/85.fe00d630.js"><link rel="prefetch" href="/assets/js/86.db79d92c.js"><link rel="prefetch" href="/assets/js/87.32b22d6b.js"><link rel="prefetch" href="/assets/js/88.f90507d5.js"><link rel="prefetch" href="/assets/js/89.a7e63c75.js"><link rel="prefetch" href="/assets/js/9.9f4472b7.js"><link rel="prefetch" href="/assets/js/90.a04287a5.js"><link rel="prefetch" href="/assets/js/91.2b998c2e.js"><link rel="prefetch" href="/assets/js/92.2b4b3b8d.js"><link rel="prefetch" href="/assets/js/93.1b09a3ca.js"><link rel="prefetch" href="/assets/js/94.7e4c07e5.js"><link rel="prefetch" href="/assets/js/95.82855d61.js"><link rel="prefetch" href="/assets/js/96.14bb02d0.js"><link rel="prefetch" href="/assets/js/97.6ed84340.js"><link rel="prefetch" href="/assets/js/98.7a99d066.js"><link rel="prefetch" href="/assets/js/99.b8d15a06.js">
    <link rel="stylesheet" href="/assets/css/0.styles.471cf497.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">IMBAPUB</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/IDE/" class="nav-link">
  IDE
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  linux
</a></div><div class="nav-item"><a href="/Python/" class="nav-link router-link-active">
  Python
</a></div><div class="nav-item"><a href="/Web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/windows/" class="nav-link">
  windows
</a></div><div class="nav-item"><a href="/database/" class="nav-link">
  database
</a></div><div class="nav-item"><a href="/vue/" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/design/" class="nav-link">
  design
</a></div><div class="nav-item"><a href="/php/" class="nav-link">
  php
</a></div><div class="nav-item"><a href="/safety/" class="nav-link">
  安全
</a></div><div class="nav-item"><a href="/Other/" class="nav-link">
  Other
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/IDE/" class="nav-link">
  IDE
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  linux
</a></div><div class="nav-item"><a href="/Python/" class="nav-link router-link-active">
  Python
</a></div><div class="nav-item"><a href="/Web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/windows/" class="nav-link">
  windows
</a></div><div class="nav-item"><a href="/database/" class="nav-link">
  database
</a></div><div class="nav-item"><a href="/vue/" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/design/" class="nav-link">
  design
</a></div><div class="nav-item"><a href="/php/" class="nav-link">
  php
</a></div><div class="nav-item"><a href="/safety/" class="nav-link">
  安全
</a></div><div class="nav-item"><a href="/Other/" class="nav-link">
  Other
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>python基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>机器学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>爬虫</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Python/spider/Python爬虫.html" class="active sidebar-link">Python爬虫</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Python/spider/Python爬虫.html#selenium" class="sidebar-link">selenium</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Python/spider/Python爬虫.html#xpath和css选择器" class="sidebar-link">xpath和css选择器</a></li><li class="sidebar-sub-header"><a href="/Python/spider/Python爬虫.html#headlessbrowser" class="sidebar-link">HeadlessBrowser</a></li><li class="sidebar-sub-header"><a href="/Python/spider/Python爬虫.html#函数或变量" class="sidebar-link">函数或变量</a></li><li class="sidebar-sub-header"><a href="/Python/spider/Python爬虫.html#在centos中使用" class="sidebar-link">在CentOS中使用</a></li></ul></li></ul></li><li><a href="/Python/spider/spider.html" class="sidebar-link">内容处理</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="python爬虫"><a href="#python爬虫" class="header-anchor">#</a> Python爬虫</h1> <ul><li><a href="#selenium">selenium</a> <ul><li><a href="#xpath%E5%92%8Ccss%E9%80%89%E6%8B%A9%E5%99%A8">xpath和css选择器</a> <ul><li><a href="#css%E5%85%83%E7%B4%A0%E9%80%89%E6%8B%A9%E5%99%A8">css元素选择器</a></li> <li><a href="#sizzle%E7%9A%84css3%E7%BB%93%E6%9E%84%E6%80%A7%E5%AE%9A%E4%BD%8D"><code>Sizzle</code>的<code>Css3</code>结构性定位</a></li></ul></li> <li><a href="#chromedriver"><code>chromedriver</code></a></li> <li><a href="#geckodriver"><code>geckodriver</code></a></li></ul></li> <li><a href="#%E5%9C%A8centos%E4%B8%AD%E4%BD%BF%E7%94%A8">在CentOS中使用</a></li></ul> <h2 id="selenium"><a href="#selenium" class="header-anchor">#</a> selenium</h2> <h3 id="xpath和css选择器"><a href="#xpath和css选择器" class="header-anchor">#</a> xpath和css选择器</h3> <blockquote><p><code>Chrome</code>打开网页<code>F12</code>后下面的调试工具出来后点击<code>Elements</code>左边的那个框框里的鼠标箭头（或者按<code>Ctrl + Shift + C</code>），
然后网页会变成蓝色，到网页点击自己要选择的区域，接下来就会自动跳到<code>Elements</code>对应的位置，
在<code>HTML</code>的标签上点击鼠标右键-&gt;<code>Copy</code>-&gt;<code>COpy selector</code>或者<code>xpath</code>，就能复制选择器了。</p></blockquote> <h4 id="css元素选择器"><a href="#css元素选择器" class="header-anchor">#</a> css元素选择器</h4> <ul><li><a href="https://www.w3school.com.cn/cssref/css_selectors.ASP" target="_blank" rel="noopener noreferrer">CSS 选择器参考手册<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <table><thead><tr><th>语法</th> <th>说明</th></tr></thead> <tbody><tr><td>*</td> <td>通用元素选择器，匹配任何元素</td></tr> <tr><td>E</td> <td>标签选择器，匹配所有使用E标签的元素</td></tr> <tr><td>.info</td> <td>class选择器，匹配所有class属性中包含info的元素</td></tr> <tr><td>#footer</td> <td>id选择器，匹配所有id属性等于footer的元素</td></tr> <tr><td>E,F</td> <td>多元素选择器，同时匹配所有E元素或F元素，E和F之间用逗号分隔</td></tr> <tr><td>E F</td> <td>后代元素选择器，匹配所有属于E元素后代的F元素，E和F之间用空格分隔</td></tr> <tr><td>E &gt; F</td> <td>子元素选择器，匹配所有E元素的子元素F</td></tr> <tr><td>E + F</td> <td>毗邻元素选择器，匹配紧随E元素之后的同级元素F （只匹配第一个）</td></tr> <tr><td>E ~ F</td> <td>同级元素选择器，匹配所有在E元素之后的同级F元素</td></tr> <tr><td>E[att='val']</td> <td>属性att的值为val的E元素 （区分大小写）</td></tr> <tr><td>E[att^='val']</td> <td>属性att的值以val开头的E元素 （区分大小写）</td></tr> <tr><td>E[att$='val']</td> <td>属性att的值以val结尾的E元素 （区分大小写）</td></tr> <tr><td>E[att*='val']</td> <td>属性att的值包含val的E元素 （区分大小写）</td></tr> <tr><td>E[att1='v1'][att2*='v2']</td> <td>属性att1的值为v1，att2的值包含v2 （区分大小写）</td></tr> <tr><td>E:contains('xxxx')</td> <td>内容中包含xxxx的E元素</td></tr> <tr><td>E:not(s)</td> <td>匹配不符合当前选择器的任何元素</td></tr></tbody></table> <ul><li>匹配示例</li></ul> <table><thead><tr><th>locator</th> <th>匹配</th></tr></thead> <tbody><tr><td>css=divcss=div.formdiv</td> <td><code>&lt;div class=&quot;formdiv&quot;&gt;</code></td></tr> <tr><td>css=#recordlistcss=ul#recordlist</td> <td><code>&lt;ul id=&quot;recordlist&quot;&gt;</code></td></tr> <tr><td>css=div.subdiv pcss=div.subdiv &gt; ul &gt; p</td> <td><code>&lt;p&gt;Heading&lt;/p&gt;</code></td></tr> <tr><td>css=form + div</td> <td><code>&lt;div class=&quot;subdiv&quot;&gt;</code></td></tr> <tr><td>css=p + licss=p ~ li</td> <td>二者定位到的都是<code>&lt;li&gt;Cat&lt;/li&gt;</code>但是storeCssCount的时候，前者得到1，后者得到4</td></tr> <tr><td>css=form &gt; input[name=username]</td> <td><code>&lt;input name=&quot;username&quot;&gt;</code></td></tr> <tr><td>css=input[name$=id][value^=SYS]</td> <td><code>&lt;input value=&quot;SYS123456&quot; name=&quot;vid&quot; type=&quot;hidden&quot;&gt;</code></td></tr> <tr><td>css=input:not([name$=id][value^=SYS])</td> <td><code>&lt;input name=&quot;username&quot; type=&quot;text&quot;&gt;&lt;/input&gt;</code></td></tr> <tr><td>css=li:contains('Goa')</td> <td><code>&lt;li&gt;Goat&lt;/li&gt;</code></td></tr> <tr><td>css=li:not(contains('Goa'))</td> <td><code>&lt;li&gt;Cat&lt;/li&gt;</code></td></tr></tbody></table> <h4 id="sizzle的css3结构性定位"><a href="#sizzle的css3结构性定位" class="header-anchor">#</a> <code>Sizzle</code>的<code>Css3</code>结构性定位</h4> <table><thead><tr><th>语法</th> <th>说明</th></tr></thead> <tbody><tr><td>E:nth(n)E:eq(n)</td> <td>在其父元素中的E子元素集合中排在第n+1个的E元素 (第一个n=0)</td></tr> <tr><td>E:first</td> <td>在其父元素中的E子元素集合中排在第1个的E元素</td></tr> <tr><td>E:last</td> <td>在其父元素中的E子元素集合中排在最后1个的E元素</td></tr> <tr><td>E:even</td> <td>在其父元素中的E子元素集合中排在偶数位的E元素 (0,2,4…)</td></tr> <tr><td>E:odd</td> <td>在其父元素中的E子元素集合中排在奇数的E元素 (1,3,5…)</td></tr> <tr><td>E:lt(n)</td> <td>在其父元素中的E子元素集合中排在n位之前的E元素 (n=2,则匹配0,1)</td></tr> <tr><td>E:gt(n)</td> <td>在其父元素中的E子元素集合中排在n位之后的E元素 (n=2，在匹配3,4)</td></tr> <tr><td>E:only-child</td> <td>父元素的唯一一个子元素且标签为E</td></tr> <tr><td>E:empty</td> <td>不包含任何子元素的E元素，注意，文本节点也被看作子元素</td></tr></tbody></table> <ul><li>匹配示例</li></ul> <table><thead><tr><th>locator</th> <th>匹配</th></tr></thead> <tbody><tr><td>css=ul &gt; li:nth(0)</td> <td><code>&lt;li&gt;Cat&lt;/li&gt;</code></td></tr> <tr><td>css=ul &gt; li:first</td> <td><code>&lt;li&gt;Cat&lt;/li&gt;</code></td></tr> <tr><td>css=ul &gt; li:lt(2)</td> <td><code>&lt;li&gt;Cat&lt;/li&gt;</code></td></tr> <tr><td>css=ul &gt; *:nth(0)css=ul &gt; :nth(0)</td> <td><code>&lt;p&gt;Heading&lt;/p&gt;</code></td></tr> <tr><td>css=ul &gt; :first</td> <td><code>&lt;p&gt;Heading&lt;/p&gt;</code></td></tr> <tr><td>css=ul &gt; :even</td> <td><code>&lt;p&gt;Heading&lt;/p&gt;</code></td></tr> <tr><td>css=ul &gt; *:lastcss=ul &gt; li:last</td> <td><code>&lt;li&gt;Goat&lt;/li&gt;</code></td></tr> <tr><td>css=ul &gt; li:gt(2)</td> <td><code>&lt;li&gt;Goat&lt;/li&gt;</code></td></tr> <tr><td>css=ul &gt; li:even</td> <td>Cat, Car</td></tr> <tr><td>css=ul &gt; li:odd</td> <td>Dog, Goat</td></tr> <tr><td>css=ul &gt; p:odd</td> <td>[error] not found</td></tr> <tr><td>css=ul &gt; li:only-childcss=ul &gt; :only-childcss=ul &gt; *:only-child</td> <td>[error] not found (ul没有only-child)</td></tr> <tr><td>css=div.subdiv &gt; :only-child</td> <td><code>&lt;ul id=&quot;recordlist&quot;&gt;… … … …&lt;/ul&gt;</code></td></tr></tbody></table> <h3 id="headlessbrowser"><a href="#headlessbrowser" class="header-anchor">#</a> <code>HeadlessBrowser</code></h3> <blockquote><p><code>Headless Browser</code>(无头的浏览器)是没有图形用户界面(GUI)的web浏览器，通常是通过编程或命令行界面来控制的</p></blockquote> <ul><li><a href="https://www.jianshu.com/p/11d519e2d0cb" target="_blank" rel="noopener noreferrer">Headless Browser<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h4 id="chromedriver"><a href="#chromedriver" class="header-anchor">#</a> <code>chromedriver</code></h4> <blockquote><p><code>Selenium</code>操作<code>Chrome</code>浏览器需要有<code>ChromeDriver</code>驱动来协助，<code>ChromeDriver</code>与<code>Chrome</code>版本对应关系一定要正确</p></blockquote> <ul><li><p><a href="http://chromedriver.storage.googleapis.com/index.html" target="_blank" rel="noopener noreferrer">http://chromedriver.storage.googleapis.com/index.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="http://npm.taobao.org/mirrors/chromedriver" target="_blank" rel="noopener noreferrer">http://npm.taobao.org/mirrors/chromedriver<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://mlln.cn/2019/07/05/%E7%88%AC%E8%99%AB%E5%A6%82%E4%BD%95%E9%9A%90%E8%97%8FHeadles-Chrome%E4%B8%8D%E8%A2%AB%E6%A3%80%E6%B5%8B%E5%87%BA%E6%9D%A5" target="_blank" rel="noopener noreferrer">隐藏Headles-Chrome不被检测出来<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://developers.google.com/web/updates/2017/04/headless-chrome" target="_blank" rel="noopener noreferrer">headless-chrome官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <ul><li><strong>参数列表</strong></li></ul> <ul><li><p><a href="https://peter.sh/experiments/chromium-command-line-switches" target="_blank" rel="noopener noreferrer">https://peter.sh/experiments/chromium-command-line-switches/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://cs.chromium.org/chromium/src/content/public/common/content_switches.cc" target="_blank" rel="noopener noreferrer">https://cs.chromium.org/chromium/src/content/public/common/content_switches.cc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>--no-first-run</td> <td>第一次不运行</td></tr> <tr><td>---default-browser-check</td> <td>不检查默认浏览器</td></tr> <tr><td>--headless</td> <td>不开启图像界面</td></tr> <tr><td>--disable-gpu</td> <td>关闭gpu,服务器一般没有显卡</td></tr> <tr><td>remote-debugging-port</td> <td>chrome-debug工具的端口(golang chromepd 默认端口是9222,建议不要修改)</td></tr> <tr><td>--no-sandbox</td> <td>不开启沙盒模式可以减少对服务器的资源消耗,但是服务器安全性降低,配和参数 --remote-debugging-address=127.0.0.1 一起使用</td></tr> <tr><td>--disable-plugins</td> <td>关闭chrome插件</td></tr> <tr><td>--remote-debugging-address</td> <td>远程调试地址 0.0.0.0 可以外网调用但是安全性低,建议使用默认值 127.0.0.1</td></tr> <tr><td>--window-size</td> <td>窗口尺寸</td></tr> <tr><td>--incognito</td> <td>进入隐身模式——保证浏览网页时，不留下任何痕迹。</td></tr> <tr><td>--user-data-dir=“绝对路径”</td> <td>指定UserData路径，默认路径位于系统盘，通过该命令，可以重定向为其它分区</td></tr> <tr><td>--disk-cache-dir=”绝对路径“</td> <td>指定Cache路径</td></tr> <tr><td>--disk-cache-size=</td> <td>指定Cache大小，单位为字节</td></tr> <tr><td>–first run</td> <td>强行指定浏览器会第一次运行</td></tr> <tr><td>--disable-javascript</td> <td>禁用Javascript</td></tr> <tr><td>--omnibox-popup-count=&quot;数字&quot;</td> <td>指出多功能地址栏的弹出菜单数量</td></tr> <tr><td>--user-agent=&quot;abcd&quot;</td> <td>强行执行http请求头中的UserAgent为abcd</td></tr> <tr><td>--disable-plugins</td> <td>禁止加载所有插件</td></tr> <tr><td>--disable-java</td> <td>禁用java</td></tr> <tr><td>--start-maximized</td> <td>浏览器启动后，窗口默认为最大化</td></tr> <tr><td>--no-sandbox</td> <td>关闭沙盒</td></tr> <tr><td>--single-process</td> <td>浏览器只能以单进程运行，通常用于调试，定位bug</td></tr> <tr><td>--process-per-tab</td> <td>一个标签一个进程</td></tr> <tr><td>--process-per-site</td> <td>一个站点，一个进程</td></tr> <tr><td>--in-process-plugins</td> <td>插件不以独立的进程运行，插件的异常崩溃，可能会导致整个页面挂掉</td></tr> <tr><td>--disable-popup-blocking</td> <td>关闭弹窗拦截</td></tr> <tr><td>--proxy-pac-url</td> <td>指定使用PAC代理时，所需要的脚本url地址</td></tr> <tr><td>--ignore-certificate-errors</td> <td>忽略证书错误</td></tr> <tr><td>--disable-extensions</td> <td>禁用扩展</td></tr> <tr><td>--disable-plugins</td> <td>禁用插件</td></tr> <tr><td>–disable-software-rasterizer</td> <td>禁用插件</td></tr> <tr><td>--hide-scrollbars</td> <td>隐藏滚动条, 应对一些特殊页面</td></tr> <tr><td>--blink-settings=imagesEnabled=false</td> <td>不加载图片, 提升速度</td></tr></tbody></table> <h4 id="geckodriver"><a href="#geckodriver" class="header-anchor">#</a> <code>geckodriver</code></h4> <ul><li><a href="https://github.com/mozilla/geckodriver" target="_blank" rel="noopener noreferrer">https://github.com/mozilla/geckodriver<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <ul><li><a href="https://github.com/woytu/tool-gui-python/blob/master/utils/ReptileUtil.py" target="_blank" rel="noopener noreferrer"><code>selenium</code>+<code>chromedriver</code>+<code>BeautifulSoup</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="函数或变量"><a href="#函数或变量" class="header-anchor">#</a> 函数或变量</h3> <table><thead><tr><th>函数或变量</th> <th>说明</th></tr></thead> <tbody><tr><td>def file_detector_context(self, file_detector_class, *args, **kwargs):</td> <td></td></tr> <tr><td>def mobile(self):</td> <td></td></tr> <tr><td>def name(self):</td> <td></td></tr> <tr><td>def start_client(self):</td> <td></td></tr> <tr><td>def stop_client(self):</td> <td></td></tr> <tr><td>def start_session(self, capabilities, browser_profile=None):</td> <td></td></tr> <tr><td>def create_web_element(self, element_id):</td> <td></td></tr> <tr><td>def execute(self, driver_command, params=None):</td> <td></td></tr> <tr><td>def get(self, url):</td> <td></td></tr> <tr><td>def title(self):</td> <td></td></tr> <tr><td>def find_element_by_id(self, id_):</td> <td></td></tr> <tr><td>def find_elements_by_id(self, id_):</td> <td></td></tr> <tr><td>def find_element_by_xpath(self, xpath):</td> <td></td></tr> <tr><td>def find_elements_by_xpath(self, xpath):</td> <td></td></tr> <tr><td>def find_element_by_link_text(self, link_text):</td> <td></td></tr> <tr><td>def find_elements_by_link_text(self, text):</td> <td></td></tr> <tr><td>def find_element_by_partial_link_text(self, link_text):</td> <td></td></tr> <tr><td>def find_elements_by_partial_link_text(self, link_text):</td> <td></td></tr> <tr><td>def find_element_by_name(self, name):</td> <td></td></tr> <tr><td>def find_elements_by_name(self, name):</td> <td></td></tr> <tr><td>def find_element_by_tag_name(self, name):</td> <td></td></tr> <tr><td>def find_elements_by_tag_name(self, name):</td> <td></td></tr> <tr><td>def find_element_by_class_name(self, name):</td> <td></td></tr> <tr><td>def find_elements_by_class_name(self, name):</td> <td></td></tr> <tr><td>def find_element_by_css_selector(self, css_selector):</td> <td></td></tr> <tr><td>def find_elements_by_css_selector(self, css_selector):</td> <td></td></tr> <tr><td>def execute_script(self, script, *args):</td> <td></td></tr> <tr><td>def execute_async_script(self, script, *args):</td> <td></td></tr> <tr><td>def current_url(self):</td> <td></td></tr> <tr><td>def page_source(self):</td> <td></td></tr> <tr><td>def close(self):</td> <td></td></tr> <tr><td>def quit(self):</td> <td></td></tr> <tr><td>def current_window_handle(self):</td> <td></td></tr> <tr><td>def window_handles(self):</td> <td></td></tr> <tr><td>def maximize_window(self):</td> <td></td></tr> <tr><td>def fullscreen_window(self):</td> <td></td></tr> <tr><td>def minimize_window(self):</td> <td></td></tr> <tr><td>def switch_to(self):</td> <td></td></tr> <tr><td>def switch_to_active_element(self):</td> <td></td></tr> <tr><td>def switch_to_window(self, window_name):</td> <td></td></tr> <tr><td>def switch_to_frame(self, frame_reference):</td> <td></td></tr> <tr><td>def switch_to_default_content(self):</td> <td></td></tr> <tr><td>def switch_to_alert(self):</td> <td></td></tr> <tr><td>def back(self):</td> <td></td></tr> <tr><td>def forward(self):</td> <td></td></tr> <tr><td>def refresh(self):</td> <td></td></tr> <tr><td>def get_cookies(self):</td> <td></td></tr> <tr><td>def get_cookie(self, name):</td> <td></td></tr> <tr><td>def delete_cookie(self, name):</td> <td></td></tr> <tr><td>def delete_all_cookies(self):</td> <td></td></tr> <tr><td>def add_cookie(self, cookie_dict):</td> <td></td></tr> <tr><td>def implicitly_wait(self, time_to_wait):</td> <td></td></tr> <tr><td>def set_script_timeout(self, time_to_wait):</td> <td></td></tr> <tr><td>def set_page_load_timeout(self, time_to_wait):</td> <td></td></tr> <tr><td>def find_element(self, by=By.ID, value=None):</td> <td></td></tr> <tr><td>def find_elements(self, by=By.ID, value=None):</td> <td></td></tr> <tr><td>def desired_capabilities(self):</td> <td></td></tr> <tr><td>def get_screenshot_as_file(self, filename):</td> <td></td></tr> <tr><td>def save_screenshot(self, filename):</td> <td></td></tr> <tr><td>def get_screenshot_as_png(self):</td> <td></td></tr> <tr><td>def get_screenshot_as_base64(self):</td> <td></td></tr> <tr><td>def set_window_size(self, width, height, windowHandle='current'):</td> <td></td></tr> <tr><td>def get_window_size(self, windowHandle='current'):</td> <td></td></tr> <tr><td>def set_window_position(self, x, y, windowHandle='current'):</td> <td></td></tr> <tr><td>def get_window_position(self, windowHandle='current'):</td> <td></td></tr> <tr><td>def get_window_rect(self):</td> <td></td></tr> <tr><td>def set_window_rect(self, x=None, y=None, width=None, height=None):</td> <td></td></tr> <tr><td>def file_detector(self):</td> <td></td></tr> <tr><td>def file_detector(self, detector):</td> <td></td></tr> <tr><td>def orientation(self):</td> <td></td></tr> <tr><td>def orientation(self, value):</td> <td></td></tr> <tr><td>def application_cache(self):</td> <td></td></tr> <tr><td>def log_types(self):</td> <td></td></tr> <tr><td>def get_log(self, log_type):</td> <td></td></tr></tbody></table> <h3 id="在centos中使用"><a href="#在centos中使用" class="header-anchor">#</a> 在CentOS中使用</h3> <ul><li><a href="https://blog.csdn.net/wkb342814892/article/details/81591394" target="_blank" rel="noopener noreferrer">xvfb可以将屏幕的图像输出给放到虚拟内存中<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <ul><li>批量杀死<code>chromedriver</code>进程</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">ps</span> -efww<span class="token operator">|</span><span class="token function">grep</span> <span class="token assign-left variable">LOCAL</span><span class="token operator">=</span>chromedriver<span class="token operator">|</span><span class="token function">grep</span> -v <span class="token function">grep</span><span class="token operator">|</span><span class="token function">cut</span> -c <span class="token number">9</span>-15<span class="token operator">|</span><span class="token function">xargs</span> <span class="token function">kill</span> -9
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/6/2020, 7:21:36 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Python/ml/sklearn.html" class="prev">
        sklearn入门基本知识
      </a></span> <span class="next"><a href="/Python/spider/spider.html">
        内容处理
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e35ca489.js" defer></script><script src="/assets/js/2.3a46498f.js" defer></script><script src="/assets/js/48.4bd49e90.js" defer></script>
  </body>
</html>
